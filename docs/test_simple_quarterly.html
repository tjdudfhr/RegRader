<!DOCTYPE html>
<html>
<head>
    <title>Simple Quarterly Test</title>
</head>
<body>
    <h1>Simple Quarterly Click Test</h1>
    
    <p>실제 분기탭 클릭을 시뮬레이션합니다. 콘솔 로그를 확인하세요.</p>
    
    <button onclick="simulateQ1Click()" style="padding: 20px; font-size: 16px;">Q1 분기 클릭 시뮬레이션</button>
    
    <div id="result"></div>
    
    <script>
        function simulateQ1Click() {
            console.log('=== Q1 분기 클릭 시뮬레이션 시작 ===');
            
            // 실제 showQuarterlyDetail 함수와 동일한 로직
            const quarter = 'Q1';
            console.log('🎯 showQuarterlyDetail 함수 호출:', quarter);
            
            const quarterInfo = {
                'Q1': { title: '1분기 개정 법령', period: '2025년 1~3월', months: [1, 2, 3], icon: '🌱' }
            };
            
            const info = quarterInfo[quarter];
            if (!info) {
                console.error('❌ 분기 정보를 찾을 수 없습니다:', quarter);
                return;
            }
            
            console.log('✅ 분기 정보 확인:', info.title);
            
            // quarterly_details.json 로드
            console.log('📡 quarterly_details.json 요청 시작...');
            fetch('quarterly_details.json')
                .then(response => {
                    console.log('📡 Response status:', response.status);
                    if (!response.ok) throw new Error('데이터 로드 실패');
                    return response.json();
                })
                .then(quarterlyData => {
                    console.log('✅ quarterly_details.json 로드 성공');
                    const quarterLaws = quarterlyData.quarters[quarter].laws || [];
                    console.log('📋 ' + quarter + ' 분기 법령 수:', quarterLaws.length + '개');
                    
                    // 결과 표시
                    document.getElementById('result').innerHTML = `
                        <div style="background: #e8f5e8; padding: 20px; margin: 20px 0; border-radius: 8px;">
                            <h2>✅ 테스트 성공!</h2>
                            <p><strong>분기:</strong> ${info.title}</p>
                            <p><strong>기간:</strong> ${info.period}</p>
                            <p><strong>법령 수:</strong> ${quarterLaws.length}개</p>
                            <p><strong>첫 번째 법령:</strong> ${quarterLaws[0]?.title}</p>
                            <p style="color: green; font-weight: bold;">
                                📱 실제 사이트에서도 이 데이터로 슬라이드가 표시되어야 합니다!
                            </p>
                        </div>
                    `;
                    
                    console.log('🚀 continueShowQuarterlyDetail 호출 시뮬레이션:', quarter, '법령 수:', quarterLaws.length);
                    console.log('📱 showQuarterlyModal 호출 시뮬레이션:', quarter);
                    console.log('=== 시뮬레이션 완료 ===');
                })
                .catch(error => {
                    console.error('❌ 분기별 데이터 로드 실패:', error);
                    document.getElementById('result').innerHTML = `
                        <div style="background: #ffe8e8; padding: 20px; margin: 20px 0; border-radius: 8px;">
                            <h2>❌ 테스트 실패</h2>
                            <p>오류: ${error.message}</p>
                        </div>
                    `;
                });
        }
    </script>
</body>
</html>