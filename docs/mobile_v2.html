<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RegRader Mobile Â· AI ë²•ê·œ ê°œì • ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ</title>
    <link rel="shortcut icon" href="data:text/plain;base64,ğŸ›ï¸">
    
    <!-- ëª¨ë°”ì¼ ë²„ì „ ìœ ì§€ - ìºì‹œëœ ì‚¬ìš©ìë¥¼ ìœ„í•¨ -->
    <script>
        console.log('Mobile version loaded - keeping for cached users');
        // Service Worker ìºì‹œ í´ë¦¬ì–´ ì‹œë„
        if ('serviceWorker' in navigator) {
            caches.keys().then(function(names) {
                for (let name of names) caches.delete(name);
            });
        }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #667eea;
            --primary-light: #764ba2;
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --bg: #f7fafc;
            --card-bg: #ffffff;
            --text: #2d3748;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --border: #e2e8f0;
            --success: #48bb78;
            --warning: #f093fb;
            --danger: #fc466b;
            --info: #4299e1;
            
            --c-env: #38b2ac;
            --c-safety: #48bb78;
            --c-hr: #ed8936;
            --c-fin: #4299e1;
            --c-info: #f56565;
            --c-fair: #9f7aea;
            --c-ip: #f6ad55;
            --c-gov: #667eea;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 60px;
        }

        /* ìƒë‹¨ í—¤ë” */
        .mobile-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
        }
        
        .logo-wrapper {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            cursor: pointer;
        }
        
        .logo-icon {
            font-size: 2.5rem;
            line-height: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 2.8rem;
        }
        
        .logo-text-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .logo-title {
            font-size: 1.2rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .header-subtitle {
            font-size: 0.7rem;
            opacity: 0.9;
            margin-top: 0.1rem;
            line-height: 1;
        }

        .menu-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem;
            border-radius: 8px;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* ì£¼ìš” í†µê³„ ì„¹ì…˜ */
        .stats-section {
            padding: 1rem;
            display: grid;
            gap: 1rem;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
        }

        .stat-card.highlight {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }

        .stat-title-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stat-icon {
            font-size: 1.2rem;
        }

        .stat-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text);
        }

        .stat-subtitle {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .stat-main-value {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
        }

        .mini-stat {
            text-align: center;
            padding: 0.5rem;
            background: rgba(0,0,0,0.02);
            border-radius: 8px;
        }

        .mini-stat-value {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .mini-stat-label {
            font-size: 0.65rem;
            color: var(--text-muted);
            margin-top: 0.2rem;
        }

        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
        .tab-nav {
            background: white;
            position: sticky;
            top: 60px;
            z-index: 90;
            border-bottom: 2px solid var(--border);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tab-nav::-webkit-scrollbar {
            display: none;
        }

        .tab-nav-inner {
            display: flex;
            padding: 0 0.5rem;
            min-width: max-content;
        }

        .tab-btn {
            padding: 0.8rem 1rem;
            border: none;
            background: none;
            color: var(--text-muted);
            font-weight: 600;
            font-size: 0.85rem;
            position: relative;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .tab-btn .tab-icon {
            font-size: 1rem;
        }

        .tab-btn.active {
            color: var(--primary);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }

        /* íƒ­ ì»¨í…ì¸  */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ë¶„ê¸°ë³„ ì¹´ë“œ */
        .quarter-section {
            padding: 1rem;
        }

        .section-title {
            font-size: 1rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quarter-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8rem;
        }

        .quarter-card {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .quarter-card:active {
            transform: scale(0.98);
        }

        .quarter-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
        }

        .quarter-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .quarter-name {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text);
            margin-bottom: 0.2rem;
        }

        .quarter-period {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .quarter-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
        }

        .quarter-count {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
        }

        .quarter-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .download-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        /* ì§ë¬´ë³„ ë¦¬ìŠ¤íŠ¸ */
        .job-section {
            padding: 1rem;
        }

        .job-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8rem;
        }

        .job-card {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .job-card:active {
            transform: scale(0.98);
        }

        .job-icon-wrapper {
            width: 50px;
            height: 50px;
            margin: 0 auto 0.5rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .job-env { background: rgba(56, 178, 172, 0.1); }
        .job-safety { background: rgba(72, 187, 120, 0.1); }
        .job-fin { background: rgba(66, 153, 225, 0.1); }
        .job-hr { background: rgba(237, 137, 54, 0.1); }
        .job-info { background: rgba(245, 101, 101, 0.1); }
        .job-fair { background: rgba(159, 122, 234, 0.1); }
        .job-ip { background: rgba(246, 173, 85, 0.1); }
        .job-gov { background: rgba(102, 126, 234, 0.1); }

        .job-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text);
            margin-bottom: 0.3rem;
        }

        .job-count {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .job-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* ë²•ê·œ ë¦¬ìŠ¤íŠ¸ */
        .law-list {
            padding: 1rem;
            display: grid;
            gap: 0.8rem;
        }

        .law-item {
            background: white;
            border-radius: 10px;
            padding: 0.8rem;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .law-item:active {
            background: var(--bg);
        }

        .law-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.5rem;
        }

        .law-title {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text);
            flex: 1;
            line-height: 1.3;
        }

        .law-link-icon {
            color: var(--primary);
            font-size: 1rem;
            margin-left: 0.5rem;
        }

        .law-meta {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            font-size: 0.7rem;
        }

        .law-badge {
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
        }

        .badge-category {
            background: rgba(102, 126, 234, 0.1);
            color: var(--primary);
        }

        .badge-type {
            background: rgba(0, 0, 0, 0.05);
            color: var(--text-secondary);
        }

        .badge-status-upcoming {
            background: rgba(240, 147, 251, 0.1);
            color: var(--warning);
        }

        .badge-status-completed {
            background: rgba(72, 187, 120, 0.1);
            color: var(--success);
        }

        .law-date {
            color: var(--text-muted);
        }

        /* ê²€ìƒ‰ ë°” */
        .search-section {
            padding: 1rem;
            background: white;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 110px;
            z-index: 80;
        }

        .search-input {
            width: 100%;
            padding: 0.8rem;
            padding-left: 2.5rem;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 0.9rem;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23718096' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.35-4.35'/%3E%3C/svg%3E") no-repeat 10px center;
            background-size: 20px;
        }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--border);
            display: flex;
            padding: 0.3rem 0;
            z-index: 100;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            color: var(--text-muted);
            cursor: pointer;
            transition: color 0.2s;
            text-decoration: none;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        .nav-label {
            font-size: 0.65rem;
            font-weight: 500;
        }

        /* ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 200;
            animation: fadeIn 0.3s;
        }

        .modal.show {
            display: block;
        }

        .modal-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 20px 20px 0 0;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s;
        }

        .modal-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
        }

        .modal-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.2rem;
        }

        .modal-body {
            padding: 1rem;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        /* ë¡œë”© */
        .loading {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-muted);
        }

        .spinner {
            border: 3px solid var(--border);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ë¹ˆ ìƒíƒœ */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-muted);
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-text {
            font-size: 0.9rem;
        }
        
        /* TOP 3 ì¹´í…Œê³ ë¦¬ ìŠ¤íƒ€ì¼ */
        .top-categories {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        
        .top-category-item {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            position: relative;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border);
            overflow: hidden;
        }
        
        .top-category-item:active {
            transform: scale(0.98);
        }
        
        .rank-badge {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.1rem;
            color: white;
            flex-shrink: 0;
        }
        
        .top-category-item:nth-child(1) .rank-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
        }
        
        .top-category-item:nth-child(2) .rank-badge {
            background: linear-gradient(135deg, #C0C0C0, #808080);
        }
        
        .top-category-item:nth-child(3) .rank-badge {
            background: linear-gradient(135deg, #CD7F32, #8B4513);
        }
        
        .category-info {
            flex: 1;
        }
        
        .category-name {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text);
            margin-bottom: 0.2rem;
        }
        
        .category-count {
            font-size: 0.85rem;
            color: var(--text-muted);
        }
        
        .category-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: var(--primary-gradient);
        }
        
        /* ìš”ì•½ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .summary-section {
            margin-bottom: 1.5rem;
        }
        
        .summary-section h4 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.8rem;
        }
        
        .summary-section p {
            font-size: 0.85rem;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼ */
        .fab {
            position: fixed;
            bottom: 70px;
            right: 1rem;
            width: 50px;
            height: 50px;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            cursor: pointer;
            z-index: 90;
            transition: transform 0.2s;
        }

        .fab:active {
            transform: scale(0.95);
        }

        /* ì„¤ì • ë©”ë‰´ */
        .settings-menu {
            display: none;
            position: fixed;
            top: 60px;
            right: 0;
            background: white;
            border-radius: 0 0 0 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 110;
            width: 200px;
        }

        .settings-menu.show {
            display: block;
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        .menu-item {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text);
            transition: background 0.2s;
        }

        .menu-item:active {
            background: var(--bg);
        }

        .menu-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <header class="mobile-header">
        <div class="header-content">
            <div class="logo-wrapper" onclick="showOverview()">
                <span class="logo-icon">ğŸ›ï¸</span>
                <div class="logo-text-wrapper">
                    <div class="logo-title">RegRader</div>
                    <div class="header-subtitle">AI ë²•ê·œ ê°œì • ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ</div>
                </div>
            </div>
            <button class="menu-btn" onclick="toggleMenu()">â˜°</button>
        </div>
    </header>

    <!-- ì„¤ì • ë©”ë‰´ -->
    <div class="settings-menu" id="settings-menu">
        <div class="menu-item" onclick="alert('ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì •')">ğŸ”” ì•Œë¦¼ ì„¤ì •</div>
        <div class="menu-item" onclick="alert('ë°ì´í„° ìƒˆë¡œê³ ì¹¨')">ğŸ”„ ìƒˆë¡œê³ ì¹¨</div>
        <div class="menu-item" onclick="localStorage.setItem('forceMobile', ''); window.location.href='./index.html';">ğŸ’» PC ë²„ì „</div>
        <div class="menu-item" onclick="alert('ë„ì›€ë§')">â“ ë„ì›€ë§</div>
    </div>

    <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="tab-nav">
        <div class="tab-nav-inner">
            <button class="tab-btn active" onclick="switchTab('quarterly')">
                <span class="tab-icon">ğŸ“…</span>
                <span>ë¶„ê¸°ë³„</span>
            </button>
            <button class="tab-btn" onclick="switchTab('category')">
                <span class="tab-icon">ğŸ¢</span>
                <span>ì§ë¬´ë³„</span>
            </button>
            <button class="tab-btn" onclick="switchTab('registry')">
                <span class="tab-icon">ğŸ“š</span>
                <span>ì ìš©ë²•ê·œ</span>
            </button>
        </div>
    </div>

    <!-- ì¢…í•©í˜„í™© (ê¸°ë³¸ í˜ì´ì§€) -->
    <div id="overview-section" style="display: block;">
        <div class="stats-section">
            <!-- ì „ì²´ ê°œì • ë²•ë ¹ -->
            <div class="stat-card highlight">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div class="stat-header">
                            <div class="stat-title-group">
                                <span class="stat-icon">ğŸ“ˆ</span>
                                <div>
                                    <div class="stat-title">2025ë…„ ê°œì • ë²•ê·œ í˜„í™©</div>
                                    <div class="stat-subtitle">êµ­ê°€ë²•ë ¹ì •ë³´ì„¼í„° ìˆ˜ì§‘ ë°ì´í„°</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div class="stat-main-value">2,809</div>
                        <div class="stat-subtitle">ì „ì²´ ê°œì • ë²•ë ¹</div>
                    </div>
                </div>
            </div>

            <!-- ë‹¹ì‚¬ ë§¤ì¹­ í˜„í™© -->
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title-group">
                        <span class="stat-icon">ğŸ¯</span>
                        <div>
                            <div class="stat-title">ë‹¹ì‚¬ ì ìš© ë²•ê·œ ë§¤ì¹­ í˜„í™©</div>
                            <div class="stat-subtitle">207ê°œ ê¸°ë³¸ ë²•ê·œ ì¤‘ ë§¤ì¹­ ê²°ê³¼</div>
                        </div>
                    </div>
                </div>
                <div class="stat-grid">
                    <div class="mini-stat">
                        <div class="mini-stat-value" style="color: var(--primary);">259</div>
                        <div class="mini-stat-label">ì´ ë§¤ì¹­</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-value" style="color: var(--success);">200</div>
                        <div class="mini-stat-label">ì‹œí–‰ì™„ë£Œ</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-value" style="color: var(--warning);">59</div>
                        <div class="mini-stat-label">ì‹œí–‰ì˜ˆì •</div>
                    </div>
                </div>
            </div>


        </div>

        <!-- ì´ë²ˆì£¼ ì£¼ìš” ì‹œí–‰ ë²•ë ¹ -->
        <div class="quarter-section">
            <div class="section-title">
                <span>ğŸ”¥</span>
                <span>ì´ë²ˆì£¼ ì‹œí–‰ ë²•ë ¹</span>
                <span style="font-size: 0.8rem; color: var(--text-muted); margin-left: 0.5rem;" id="week-info"></span>
            </div>
            <div id="weekly-laws" class="law-list" style="max-height: 300px; overflow-y: auto;">
                <!-- ì´ë²ˆì£¼ ì‹œí–‰ ë²•ë ¹ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>
        
        <!-- TOP 3 ì§ë¬´ë³„ ê°œì • í˜„í™© -->
        <div class="quarter-section">
            <div class="section-title">
                <span>ğŸ†</span>
                <span>TOP 3 ì§ë¬´ë³„ ê°œì • í˜„í™©</span>
            </div>
            <div class="top-categories">
                <div class="top-category-item" onclick="showJobDetail('í™˜ê²½')">
                    <div class="rank-badge">1</div>
                    <div class="category-info">
                        <div class="category-name">í™˜ê²½</div>
                        <div class="category-count">99ê°œ ë²•ë ¹</div>
                    </div>
                    <div class="category-bar" style="width: 100%;"></div>
                </div>
                <div class="top-category-item" onclick="showJobDetail('ì•ˆì „')">
                    <div class="rank-badge">2</div>
                    <div class="category-info">
                        <div class="category-name">ì•ˆì „</div>
                        <div class="category-count">52ê°œ ë²•ë ¹</div>
                    </div>
                    <div class="category-bar" style="width: 52%;"></div>
                </div>
                <div class="top-category-item" onclick="showJobDetail('ì¬ë¬´íšŒê³„')">
                    <div class="rank-badge">3</div>
                    <div class="category-info">
                        <div class="category-name">ì¬ë¬´íšŒê³„</div>
                        <div class="category-count">47ê°œ ë²•ë ¹</div>
                    </div>
                    <div class="category-bar" style="width: 47%;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ë¶„ê¸°ë³„ íƒ­ -->
    <div class="tab-content active" id="quarterly-tab" style="display: none;">
        <div class="quarter-section">
            <div class="section-title">
                <span>ğŸ“…</span>
                <span>2025ë…„ ë¶„ê¸°ë³„ ê°œì • í˜„í™©</span>
            </div>
            <div class="quarter-grid">
                <div class="quarter-card" onclick="showQuarterDetail('Q1')">
                    <div class="quarter-icon">ğŸŒ±</div>
                    <div class="quarter-name">1ë¶„ê¸°</div>
                    <div class="quarter-period">2025ë…„ 1~3ì›”</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">119</div>
                            <div class="quarter-label">ê°œì • ë²•ë ¹</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q1', event)">
                            <span>ğŸ“„</span>
                            <span>ë‹¤ìš´ë¡œë“œ</span>
                        </button>
                    </div>
                </div>
                
                <div class="quarter-card" onclick="showQuarterDetail('Q2')">
                    <div class="quarter-icon">â˜€ï¸</div>
                    <div class="quarter-name">2ë¶„ê¸°</div>
                    <div class="quarter-period">2025ë…„ 4~6ì›”</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">61</div>
                            <div class="quarter-label">ê°œì • ë²•ë ¹</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q2', event)">
                            <span>ğŸ“„</span>
                            <span>ë‹¤ìš´ë¡œë“œ</span>
                        </button>
                    </div>
                </div>
                
                <div class="quarter-card" onclick="showQuarterDetail('Q3')">
                    <div class="quarter-icon">ğŸ‚</div>
                    <div class="quarter-name">3ë¶„ê¸°</div>
                    <div class="quarter-period">2025ë…„ 7~9ì›”</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">64</div>
                            <div class="quarter-label">ê°œì • ë²•ë ¹</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q3', event)">
                            <span>ğŸ“„</span>
                            <span>ë‹¤ìš´ë¡œë“œ</span>
                        </button>
                    </div>
                </div>
                
                <div class="quarter-card" onclick="showQuarterDetail('Q4')">
                    <div class="quarter-icon">â„ï¸</div>
                    <div class="quarter-name">4ë¶„ê¸°</div>
                    <div class="quarter-period">2025ë…„ 10~12ì›”</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">15</div>
                            <div class="quarter-label">ê°œì • ë²•ë ¹</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q4', event)">
                            <span>ğŸ“„</span>
                            <span>ë‹¤ìš´ë¡œë“œ</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì§ë¬´ë³„ íƒ­ -->
    <div class="tab-content" id="category-tab">
        <div class="job-section">
            <div class="section-title">
                <span>ğŸ¢</span>
                <span>ì§ë¬´ë³„ ê°œì • í˜„í™© (259ê°œ ë§¤ì¹­)</span>
            </div>
            <div class="job-grid">
                <div class="job-card" onclick="showJobDetail('í™˜ê²½')">
                    <div class="job-icon-wrapper job-env">ğŸŒ±</div>
                    <div class="job-name">í™˜ê²½</div>
                    <div class="job-count">99</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ì•ˆì „')">
                    <div class="job-icon-wrapper job-safety">ğŸ›¡ï¸</div>
                    <div class="job-name">ì•ˆì „</div>
                    <div class="job-count">52</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ì¬ë¬´íšŒê³„')">
                    <div class="job-icon-wrapper job-fin">ğŸ’°</div>
                    <div class="job-name">ì¬ë¬´íšŒê³„</div>
                    <div class="job-count">47</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ì¸ì‚¬ë…¸ë¬´')">
                    <div class="job-icon-wrapper job-hr">ğŸ‘¥</div>
                    <div class="job-name">ì¸ì‚¬ë…¸ë¬´</div>
                    <div class="job-count">27</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ì •ë³´ë³´í˜¸')">
                    <div class="job-icon-wrapper job-info">ğŸ”’</div>
                    <div class="job-name">ì •ë³´ë³´í˜¸</div>
                    <div class="job-count">13</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ê³µì •ê±°ë˜')">
                    <div class="job-icon-wrapper job-fair">âš–ï¸</div>
                    <div class="job-name">ê³µì •ê±°ë˜</div>
                    <div class="job-count">10</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ì§€ë°°êµ¬ì¡°')">
                    <div class="job-icon-wrapper job-gov">ğŸ›ï¸</div>
                    <div class="job-name">ì§€ë°°êµ¬ì¡°</div>
                    <div class="job-count">6</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ì§€ì‹ì¬ì‚°ê¶Œ')">
                    <div class="job-icon-wrapper job-ip">ğŸ’¡</div>
                    <div class="job-name">ì§€ì‹ì¬ì‚°ê¶Œ</div>
                    <div class="job-count">5</div>
                    <div class="job-label">ê°œì • ë²•ê·œ</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì ìš©ë²•ê·œ íƒ­ -->
    <div class="tab-content" id="registry-tab">
        <div class="search-section">
            <input type="text" class="search-input" placeholder="207ê°œ ê¸°ë³¸ ë²•ê·œ ê²€ìƒ‰..." onkeyup="searchLaws(this.value)" onfocus="this.select()">
        </div>
        <div class="job-section">
            <div class="section-title">
                <span>ğŸ“š</span>
                <span>207ê°œ ê¸°ë³¸ ì ìš©ë²•ê·œ</span>
            </div>
            <div class="job-grid">
                <div class="job-card" onclick="showRegistryCategory('í™˜ê²½')">
                    <div class="job-icon-wrapper job-env">ğŸŒ±</div>
                    <div class="job-name">í™˜ê²½</div>
                    <div class="job-count">65</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ì•ˆì „')">
                    <div class="job-icon-wrapper job-safety">ğŸ›¡ï¸</div>
                    <div class="job-name">ì•ˆì „</div>
                    <div class="job-count">41</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ì¸ì‚¬ë…¸ë¬´')">
                    <div class="job-icon-wrapper job-hr">ğŸ‘¥</div>
                    <div class="job-name">ì¸ì‚¬ë…¸ë¬´</div>
                    <div class="job-count">41</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ì¬ë¬´íšŒê³„')">
                    <div class="job-icon-wrapper job-fin">ğŸ’°</div>
                    <div class="job-name">ì¬ë¬´íšŒê³„</div>
                    <div class="job-count">19</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ì •ë³´ë³´í˜¸')">
                    <div class="job-icon-wrapper job-info">ğŸ”’</div>
                    <div class="job-name">ì •ë³´ë³´í˜¸</div>
                    <div class="job-count">16</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ê³µì •ê±°ë˜')">
                    <div class="job-icon-wrapper job-fair">âš–ï¸</div>
                    <div class="job-name">ê³µì •ê±°ë˜</div>
                    <div class="job-count">11</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ì§€ë°°êµ¬ì¡°')">
                    <div class="job-icon-wrapper job-gov">ğŸ›ï¸</div>
                    <div class="job-name">ì§€ë°°êµ¬ì¡°</div>
                    <div class="job-count">7</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ì§€ì‹ì¬ì‚°ê¶Œ')">
                    <div class="job-icon-wrapper job-ip">ğŸ’¡</div>
                    <div class="job-name">ì§€ì‹ì¬ì‚°ê¶Œ</div>
                    <div class="job-count">7</div>
                    <div class="job-label">ê¸°ë³¸ ë²•ê·œ</div>
                </div>
            </div>
        </div>
        
        <!-- ê²€ìƒ‰ ê²°ê³¼ ì˜ì—­ -->
        <div id="search-results-section" style="display: none; padding: 1rem;">
            <div class="section-title">
                <span>ğŸ”</span>
                <span>ê²€ìƒ‰ ê²°ê³¼</span>
            </div>
            <div id="search-results-list" class="law-list">
                <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchMainSection('home', this)">
            <span class="nav-icon">ğŸ </span>
            <span class="nav-label">í™ˆ</span>
        </div>
        <div class="nav-item" onclick="switchMainSection('search', this)">
            <span class="nav-icon">ğŸ”</span>
            <span class="nav-label">ê²€ìƒ‰</span>
        </div>
        <div class="nav-item" onclick="switchMainSection('download', this)">
            <span class="nav-icon">ğŸ“¥</span>
            <span class="nav-label">ë‹¤ìš´ë¡œë“œ</span>
        </div>
        <div class="nav-item" onclick="switchMainSection('settings', this)">
            <span class="nav-icon">âš™ï¸</span>
            <span class="nav-label">ì„¤ì •</span>
        </div>
    </nav>

    <!-- í”Œë¡œíŒ… ì•¡ì…˜ ë²„íŠ¼ -->
    <button class="fab" onclick="scrollToTop()">â†‘</button>

    <!-- ëª¨ë‹¬ -->
    <div class="modal" id="detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">ìƒì„¸ ì •ë³´</h3>
                <button class="modal-close" onclick="closeModal()">âœ•</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- ë™ì  ì»¨í…ì¸  -->
            </div>
        </div>
    </div>

    <!-- ë²•ê·œ ìƒì„¸ ëª¨ë‹¬ -->
    <div class="modal" id="law-detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="law-modal-title">ë²•ë ¹ ìƒì„¸</h3>
                <button class="modal-close" onclick="closeLawModal()">âœ•</button>
            </div>
            <div class="modal-body" id="law-modal-body">
                <!-- AI ìš”ì•½ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <script>
        // ë°ì´í„° ì €ì¥ì†Œ
        let lawsData = [];
        let baseLawsData = [];
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        document.addEventListener('DOMContentLoaded', async function() {
            await loadLawsData();
            await loadBaseLaws();
            updateAllCounts();
            updateWeeklyLaws();
            updateWeekInfo();
        });
        
        // ì´ë²ˆì£¼ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateWeekInfo() {
            const now = new Date();
            const weekStart = new Date(now);
            weekStart.setDate(now.getDate() - now.getDay()); // ì¼ìš”ì¼
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6); // í† ìš”ì¼
            
            const formatDate = (date) => {
                return `${date.getMonth() + 1}.${date.getDate()}`;
            };
            
            document.getElementById('week-info').textContent = 
                `${formatDate(weekStart)} ~ ${formatDate(weekEnd)}`;
        }
        
        // ì´ë²ˆì£¼ ì‹œí–‰ ë²•ë ¹ ì—…ë°ì´íŠ¸
        function updateWeeklyLaws() {
            if (lawsData.length === 0) return;
            
            const now = new Date();
            const weekStart = new Date(now);
            weekStart.setDate(now.getDate() - now.getDay());
            weekStart.setHours(0, 0, 0, 0);
            
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6);
            weekEnd.setHours(23, 59, 59, 999);
            
            // ì´ë²ˆì£¼ ì‹œí–‰ ë²•ë ¹ í•„í„°ë§
            const weeklyLaws = lawsData.filter(law => {
                if (!law.effectiveDate) return false;
                const effectiveDate = new Date(law.effectiveDate);
                return effectiveDate >= weekStart && effectiveDate <= weekEnd;
            }).sort((a, b) => new Date(a.effectiveDate) - new Date(b.effectiveDate));
            
            const weeklyLawsDiv = document.getElementById('weekly-laws');
            
            if (weeklyLaws.length > 0) {
                weeklyLawsDiv.innerHTML = weeklyLaws.slice(0, 5).map(law => {
                    const date = new Date(law.effectiveDate);
                    const dateStr = `${date.getMonth() + 1}/${date.getDate()}`;
                    const dayNames = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
                    const dayName = dayNames[date.getDay()];
                    
                    const lawData = JSON.stringify(law).replace(/"/g, '&quot;');
                    
                    return `
                        <div class="law-item" data-law='${lawData}' onclick="showLawDetailFromData(this)" style="cursor: pointer;">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">ğŸ”—</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-category">${law.categories?.[0] || 'ê¸°íƒ€'}</span>
                                <span class="law-badge badge-status-upcoming">${dateStr}(${dayName})</span>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (weeklyLaws.length > 5) {
                    weeklyLawsDiv.innerHTML += `<p style="text-align: center; padding: 0.5rem; color: var(--text-muted); font-size: 0.85rem;">ì™¸ ${weeklyLaws.length - 5}ê°œ ë”...</p>`;
                }
            } else {
                weeklyLawsDiv.innerHTML = `
                    <div class="empty-state" style="padding: 2rem;">
                        <div class="empty-icon">ğŸ“…</div>
                        <div class="empty-text">ì´ë²ˆì£¼ ì‹œí–‰ ì˜ˆì • ë²•ë ¹ì´ ì—†ìŠµë‹ˆë‹¤</div>
                    </div>
                `;
            }
        }
        
        // 259ê°œ ë§¤ì¹­ ë²•ê·œ ë°ì´í„° ë¡œë“œ
        async function loadLawsData() {
            try {
                const response = await fetch('./index.json');
                const data = await response.json();
                lawsData = data.items || [];
                console.log('Loaded', lawsData.length, 'matched laws');
            } catch (error) {
                console.error('Failed to load laws data:', error);
            }
        }
        
        // 207ê°œ ê¸°ë³¸ ë²•ê·œ ë°ì´í„° ë¡œë“œ
        async function loadBaseLaws() {
            try {
                const response = await fetch('./base_laws_207.json');
                const data = await response.json();
                baseLawsData = data.items || [];
                console.log('Loaded', baseLawsData.length, 'base laws');
            } catch (error) {
                console.error('Failed to load base laws:', error);
            }
        }
        
        // ëª¨ë“  ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
        function updateAllCounts() {
            if (lawsData.length === 0) return;
            
            // ë¶„ê¸°ë³„ ì¹´ìš´íŠ¸ ê³„ì‚°
            const quarterCounts = { Q1: 0, Q2: 0, Q3: 0, Q4: 0 };
            lawsData.forEach(law => {
                if (!law.effectiveDate) return;
                const date = new Date(law.effectiveDate);
                const month = date.getMonth() + 1;
                const year = date.getFullYear();
                
                if (year === 2025) {
                    if (month <= 3) quarterCounts.Q1++;
                    else if (month <= 6) quarterCounts.Q2++;
                    else if (month <= 9) quarterCounts.Q3++;
                    else quarterCounts.Q4++;
                }
            });
            
            // ì§ë¬´ë³„ ì¹´ìš´íŠ¸ ê³„ì‚°
            const categoryCounts = {};
            lawsData.forEach(law => {
                if (law.categories && law.categories[0]) {
                    const cat = law.categories[0];
                    categoryCounts[cat] = (categoryCounts[cat] || 0) + 1;
                }
            });
            
            // UI ì—…ë°ì´íŠ¸ëŠ” ë‚˜ì¤‘ì— êµ¬í˜„
            console.log('Quarter counts:', quarterCounts);
            console.log('Category counts:', categoryCounts);
        }
        
        // ì¢…í•©í˜„í™© í‘œì‹œ
        function showOverview() {
            // ëª¨ë“  íƒ­ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            // ì¢…í•©í˜„í™© ì„¹ì…˜ í‘œì‹œ
            document.getElementById('overview-section').style.display = 'block';
            // íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
        }
        
        // íƒ­ ì „í™˜
        function switchTab(tabName) {
            // ì¢…í•©í˜„í™© ì„¹ì…˜ ìˆ¨ê¸°ê¸°
            document.getElementById('overview-section').style.display = 'none';
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.tab-btn').classList.add('active');
            
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // ì ìš©ë²•ê·œ íƒ­ì´ë©´ ë°ì´í„° ë¡œë“œ
            if (tabName === 'registry' && baseLawsData.length === 0) {
                loadBaseLaws();
            }
        }
        
        // í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ì „í™˜
        function switchMainSection(section, element) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            element.classList.add('active');
            
            if (section === 'home') {
                showOverview();
            } else if (section === 'search') {
                openSearchModal();
            } else if (section === 'download') {
                openDownloadModal();
            } else if (section === 'settings') {
                toggleMenu();
            }
        }
        
        // ë©”ë‰´ í† ê¸€
        function toggleMenu() {
            const menu = document.getElementById('settings-menu');
            menu.classList.toggle('show');
        }
        
        // ë¶„ê¸° ìƒì„¸ ë³´ê¸°
        function showQuarterDetail(quarter) {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            const quarterInfo = {
                'Q1': { name: '1ë¶„ê¸° (1~3ì›”)', months: [1,2,3], icon: 'ğŸŒ±' },
                'Q2': { name: '2ë¶„ê¸° (4~6ì›”)', months: [4,5,6], icon: 'â˜€ï¸' },
                'Q3': { name: '3ë¶„ê¸° (7~9ì›”)', months: [7,8,9], icon: 'ğŸ‚' },
                'Q4': { name: '4ë¶„ê¸° (10~12ì›”)', months: [10,11,12], icon: 'â„ï¸' }
            };
            
            const info = quarterInfo[quarter];
            
            // í•´ë‹¹ ë¶„ê¸° ë²•ë ¹ í•„í„°ë§
            const quarterLaws = lawsData.filter(law => {
                if (!law.effectiveDate) return false;
                const date = new Date(law.effectiveDate);
                const month = date.getMonth() + 1;
                const year = date.getFullYear();
                return year === 2025 && info.months.includes(month);
            }).sort((a, b) => {
                // ë‚ ì§œìˆœ ì •ë ¬
                return new Date(a.effectiveDate) - new Date(b.effectiveDate);
            });
            
            title.innerHTML = `${info.icon} ${info.name} ì‹œí–‰ ë²•ë ¹`;
            
            let lawListHTML = '';
            if (quarterLaws.length > 0) {
                lawListHTML = quarterLaws.map(law => {
                    const date = new Date(law.effectiveDate);
                    const dateStr = date.toLocaleDateString('ko-KR', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit'
                    }).replace(/\. /g, '.').replace(/\.$/, '');
                    
                    const status = date < new Date() ? 'ì‹œí–‰ì™„ë£Œ' : 'ì‹œí–‰ì˜ˆì •';
                    const statusClass = status === 'ì‹œí–‰ì™„ë£Œ' ? 'badge-status-completed' : 'badge-status-upcoming';
                    
                    // ë°ì´í„° ì†ì„±ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½
                    const lawIndex = quarterLaws.indexOf(law);
                    const lawData = JSON.stringify(law).replace(/"/g, '&quot;');
                    
                    return `
                        <div class="law-item" data-law='${lawData}' onclick="showLawDetailFromData(this)">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">ğŸ”—</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-category">${law.categories?.[0] || 'ê¸°íƒ€'}</span>
                                <span class="law-badge ${statusClass}">${status}</span>
                                <span class="law-date">${dateStr}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                lawListHTML = '<div class="empty-state"><div class="empty-icon">ğŸ“­</div><div class="empty-text">í•´ë‹¹ ë¶„ê¸°ì— ì‹œí–‰ ë²•ë ¹ì´ ì—†ìŠµë‹ˆë‹¤</div></div>';
            }
            
            body.innerHTML = `
                <div class="stat-card" style="margin-bottom: 1rem;">
                    <div class="stat-title">ì´ ${quarterLaws.length}ê°œ ë²•ë ¹</div>
                    <div class="stat-subtitle">2025ë…„ ${info.name} ì‹œí–‰</div>
                </div>
                <div class="law-list" style="max-height: 60vh; overflow-y: auto;">
                    ${lawListHTML}
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // ì§ë¬´ ìƒì„¸ ë³´ê¸°
        function showJobDetail(job) {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            const jobIcons = {
                'í™˜ê²½': 'ğŸŒ±',
                'ì•ˆì „': 'ğŸ›¡ï¸',
                'ì¬ë¬´íšŒê³„': 'ğŸ’°',
                'ì¸ì‚¬ë…¸ë¬´': 'ğŸ‘¥',
                'ì •ë³´ë³´í˜¸': 'ğŸ”’',
                'ê³µì •ê±°ë˜': 'âš–ï¸',
                'ì§€ë°°êµ¬ì¡°': 'ğŸ›ï¸',
                'ì§€ì‹ì¬ì‚°ê¶Œ': 'ğŸ’¡'
            };
            
            // í•´ë‹¹ ì§ë¬´ ë²•ë ¹ í•„í„°ë§
            const jobLaws = lawsData.filter(law => 
                law.categories && law.categories.includes(job)
            ).sort((a, b) => {
                // ì‹œí–‰ì¼ììˆœ ì •ë ¬
                return new Date(a.effectiveDate || '2099-12-31') - new Date(b.effectiveDate || '2099-12-31');
            });
            
            title.innerHTML = `${jobIcons[job]} ${job} ê´€ë ¨ ë²•ê·œ`;
            
            let lawListHTML = '';
            if (jobLaws.length > 0) {
                lawListHTML = jobLaws.map(law => {
                    const date = law.effectiveDate ? new Date(law.effectiveDate) : null;
                    const dateStr = date ? date.toLocaleDateString('ko-KR', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit'
                    }).replace(/\. /g, '.').replace(/\.$/, '') : 'ë¯¸ì •';
                    
                    const status = date && date < new Date() ? 'ì‹œí–‰ì™„ë£Œ' : 'ì‹œí–‰ì˜ˆì •';
                    const statusClass = status === 'ì‹œí–‰ì™„ë£Œ' ? 'badge-status-completed' : 'badge-status-upcoming';
                    
                    // ë°ì´í„° ì†ì„±ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½
                    const lawData = JSON.stringify(law).replace(/"/g, '&quot;');
                    
                    return `
                        <div class="law-item" data-law='${lawData}' onclick="showLawDetailFromData(this)">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">ğŸ”—</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-type">${law.lawType || 'ë²•ë¥ '}</span>
                                <span class="law-badge ${statusClass}">${status}</span>
                                <span class="law-date">${dateStr}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                lawListHTML = '<div class="empty-state"><div class="empty-icon">ğŸ“­</div><div class="empty-text">í•´ë‹¹ ì§ë¬´ ë²•ë ¹ì´ ì—†ìŠµë‹ˆë‹¤</div></div>';
            }
            
            body.innerHTML = `
                <div class="stat-card" style="margin-bottom: 1rem;">
                    <div class="stat-title">ì´ ${jobLaws.length}ê°œ ë§¤ì¹­ ë²•ê·œ</div>
                    <div class="stat-subtitle">${job} ì§ë¬´ ê´€ë ¨ 2025ë…„ ê°œì • ë²•ë ¹</div>
                </div>
                <div class="law-list" style="max-height: 60vh; overflow-y: auto;">
                    ${lawListHTML}
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // ì ìš©ë²•ê·œ ì¹´í…Œê³ ë¦¬ ë³´ê¸°
        function showRegistryCategory(category) {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            // ë°ì´í„°ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì•Œë¦¼
            if (baseLawsData.length === 0) {
                body.innerHTML = '<div class="loading"><div class="spinner"></div><p>ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê³  ìˆìŠµë‹ˆë‹¤...</p></div>';
                modal.classList.add('show');
                loadBaseLaws().then(() => {
                    showRegistryCategory(category);
                });
                return;
            }
            
            // í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ê¸°ë³¸ ë²•ê·œ í•„í„°ë§
            const categoryLaws = baseLawsData.filter(law => 
                law.categories && law.categories.includes(category)
            ).sort((a, b) => {
                // ë²•ë ¹ëª… ê°€ë‚˜ë‹¤ìˆœ ì •ë ¬
                return a.title.localeCompare(b.title, 'ko-KR');
            });
            
            title.innerHTML = `ğŸ“š ${category} ê¸°ë³¸ ì ìš©ë²•ê·œ`;
            
            let lawListHTML = '';
            if (categoryLaws.length > 0) {
                lawListHTML = categoryLaws.map((law, index) => {
                    return `
                        <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                            <div class="law-header">
                                <div class="law-title">${index + 1}. ${law.title}</div>
                                <span class="law-link-icon">ğŸ”—</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-type">${law.lawType || 'ë²•ë¥ '}</span>
                                <span class="law-badge badge-category">${category}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                lawListHTML = '<div class="empty-state"><div class="empty-icon">ğŸ“­</div><div class="empty-text">í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ë²•ê·œê°€ ì—†ìŠµë‹ˆë‹¤</div></div>';
            }
            
            body.innerHTML = `
                <div class="stat-card" style="margin-bottom: 1rem;">
                    <div class="stat-title">ì´ ${categoryLaws.length}ê°œ ê¸°ë³¸ ë²•ê·œ</div>
                    <div class="stat-subtitle">ë‹¹ì‚¬ ${category} ì§ë¬´ ì ìš© ë²•ê·œ</div>
                </div>
                <div class="law-list" style="max-height: 60vh; overflow-y: auto;">
                    ${lawListHTML}
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // ë²•ê·œ ë¦¬ìŠ¤íŠ¸ HTML ìƒì„±
        function getLawListHTML(job) {
            const sampleLaws = {
                'í™˜ê²½': [
                    { title: 'ëŒ€ê¸°í™˜ê²½ë³´ì „ë²•', type: 'ë²•ë¥ ', date: '2025.01.01' },
                    { title: 'íê¸°ë¬¼ê´€ë¦¬ë²• ì‹œí–‰ê·œì¹™', type: 'ì‹œí–‰ê·œì¹™', date: '2025.02.01' },
                    { title: 'ë¬¼í™˜ê²½ë³´ì „ë²•', type: 'ë²•ë¥ ', date: '2025.03.20' }
                ],
                'ì•ˆì „': [
                    { title: 'ì‚°ì—…ì•ˆì „ë³´ê±´ë²•', type: 'ë²•ë¥ ', date: '2025.01.01' },
                    { title: 'ì¤‘ëŒ€ì¬í•´ ì²˜ë²Œ ë“±ì— ê´€í•œ ë²•ë¥ ', type: 'ë²•ë¥ ', date: '2025.01.27' },
                    { title: 'í™”ì¬ì˜ ì˜ˆë°© ë° ì•ˆì „ê´€ë¦¬ì— ê´€í•œ ë²•ë¥ ', type: 'ë²•ë¥ ', date: '2025.04.21' }
                ]
            };
            
            const laws = sampleLaws[job] || sampleLaws['í™˜ê²½'];
            
            return laws.map(law => `
                <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                    <div class="law-header">
                        <div class="law-title">${law.title}</div>
                        <span class="law-link-icon">ğŸ”—</span>
                    </div>
                    <div class="law-meta">
                        <span class="law-badge badge-type">${law.type}</span>
                        <span class="law-badge badge-status-upcoming">ì‹œí–‰ì˜ˆì •</span>
                        <span class="law-date">${law.date}</span>
                    </div>
                </div>
            `).join('');
        }
        
        // ê¸°ë³¸ ë²•ê·œ ë¦¬ìŠ¤íŠ¸ HTML ìƒì„±
        function getBaseLawListHTML(category) {
            const sampleLaws = {
                'í™˜ê²½': [
                    'ëŒ€ê¸°í™˜ê²½ë³´ì „ë²•',
                    'ëŒ€ê¸°í™˜ê²½ë³´ì „ë²• ì‹œí–‰ë ¹',
                    'ëŒ€ê¸°í™˜ê²½ë³´ì „ë²• ì‹œí–‰ê·œì¹™',
                    'íê¸°ë¬¼ê´€ë¦¬ë²•',
                    'ë¬¼í™˜ê²½ë³´ì „ë²•'
                ],
                'ì•ˆì „': [
                    'ì‚°ì—…ì•ˆì „ë³´ê±´ë²•',
                    'ì‚°ì—…ì•ˆì „ë³´ê±´ë²• ì‹œí–‰ë ¹',
                    'ì‚°ì—…ì•ˆì „ë³´ê±´ë²• ì‹œí–‰ê·œì¹™',
                    'ì¤‘ëŒ€ì¬í•´ ì²˜ë²Œ ë“±ì— ê´€í•œ ë²•ë¥ ',
                    'ì†Œë°©ì‹œì„¤ ì„¤ì¹˜ ë° ê´€ë¦¬ì— ê´€í•œ ë²•ë¥ '
                ]
            };
            
            const laws = sampleLaws[category] || sampleLaws['í™˜ê²½'];
            
            return laws.map(law => {
                const type = law.includes('ì‹œí–‰ê·œì¹™') ? 'ì‹œí–‰ê·œì¹™' : 
                            law.includes('ì‹œí–‰ë ¹') ? 'ì‹œí–‰ë ¹' : 'ë²•ë¥ ';
                
                return `
                    <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law)}', '_blank')">
                        <div class="law-header">
                            <div class="law-title">${law}</div>
                            <span class="law-link-icon">ğŸ”—</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">${type}</span>
                            <span class="law-badge badge-category">${category}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // ì—‘ì…€ ë‹¤ìš´ë¡œë“œ
        function downloadExcel(quarter, event) {
            event.stopPropagation();
            alert(`${quarter} ë²•ë ¹ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ì€ PC ë²„ì „ì—ì„œ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.`);
        }
        
        // ê²€ìƒ‰ ëª¨ë‹¬
        function openSearchModal() {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            title.innerHTML = 'ğŸ” ë²•ê·œ ê²€ìƒ‰';
            body.innerHTML = `
                <div style="padding: 1rem 0;">
                    <input type="text" class="search-input" placeholder="ë²•ê·œëª…ì„ ì…ë ¥í•˜ì„¸ìš”..." onkeyup="performSearch(this.value)" style="width: 100%;">
                </div>
                <div id="search-results" class="law-list">
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ”</div>
                        <div class="empty-text">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”</div>
                    </div>
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // ë‹¤ìš´ë¡œë“œ ëª¨ë‹¬
        function openDownloadModal() {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            title.innerHTML = 'ğŸ“¥ ë°ì´í„° ë‹¤ìš´ë¡œë“œ';
            body.innerHTML = `
                <div class="law-list">
                    <div class="law-item" onclick="alert('PC ë²„ì „ì—ì„œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤')">
                        <div class="law-header">
                            <div class="law-title">2025ë…„ ì „ì²´ ë²•ë ¹ (2,809ê°œ)</div>
                            <span class="law-link-icon">ğŸ“„</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">Excel</span>
                            <span>2025_Laws_Complete.xlsx</span>
                        </div>
                    </div>
                    <div class="law-item" onclick="alert('PC ë²„ì „ì—ì„œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤')">
                        <div class="law-header">
                            <div class="law-title">ë§¤ì¹­ ê²°ê³¼ (259ê°œ)</div>
                            <span class="law-link-icon">ğŸ“„</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">Excel</span>
                            <span>ë§¤ì¹­ê²°ê³¼_259.xlsx</span>
                        </div>
                    </div>
                    <div class="law-item" onclick="alert('PC ë²„ì „ì—ì„œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤')">
                        <div class="law-header">
                            <div class="law-title">ê¸°ë³¸ ì ìš©ë²•ê·œ (207ê°œ)</div>
                            <span class="law-link-icon">ğŸ“„</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">JSON</span>
                            <span>base_laws_207.json</span>
                        </div>
                    </div>
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // ê²€ìƒ‰ ìˆ˜í–‰
        function performSearch(query) {
            const resultsDiv = document.getElementById('search-results');
            
            if (!query || query.length < 2) {
                resultsDiv.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ”</div>
                        <div class="empty-text">2ê¸€ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”</div>
                    </div>
                `;
                return;
            }
            
            // ì „ì²´ ë²•ê·œì—ì„œ ê²€ìƒ‰ (ë§¤ì¹­ ë²•ê·œ + ê¸°ë³¸ ë²•ê·œ)
            const searchResults = [];
            
            // ë§¤ì¹­ ë²•ê·œì—ì„œ ê²€ìƒ‰
            lawsData.forEach(law => {
                if (law.title.toLowerCase().includes(query.toLowerCase())) {
                    searchResults.push({...law, source: 'matched'});
                }
            });
            
            // ê¸°ë³¸ ë²•ê·œì—ì„œ ê²€ìƒ‰
            baseLawsData.forEach(law => {
                if (law.title.toLowerCase().includes(query.toLowerCase())) {
                    searchResults.push({...law, source: 'base'});
                }
            });
            
            if (searchResults.length > 0) {
                resultsDiv.innerHTML = searchResults.slice(0, 20).map(law => {
                    const date = law.effectiveDate ? new Date(law.effectiveDate).toLocaleDateString('ko-KR', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit'
                    }).replace(/\. /g, '.').replace(/\.$/, '') : '';
                    
                    return `
                        <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">ğŸ”—</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-category">${law.categories?.[0] || 'ê¸°íƒ€'}</span>
                                ${date ? `<span class="law-date">${date}</span>` : ''}
                                <span class="law-badge badge-type">${law.source === 'base' ? 'ê¸°ë³¸ë²•ê·œ' : 'ë§¤ì¹­ë²•ê·œ'}</span>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (searchResults.length > 20) {
                    resultsDiv.innerHTML += `<p style="text-align: center; padding: 1rem; color: var(--text-muted);">ì™¸ ${searchResults.length - 20}ê°œ ë”...</p>`;
                }
            } else {
                resultsDiv.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ˜”</div>
                        <div class="empty-text">"${query}"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>
                    </div>
                `;
            }
        }
        
        // ëª¨ë‹¬ ë‹«ê¸°
        function closeModal() {
            document.getElementById('detail-modal').classList.remove('show');
        }
        
        // ë²•ê·œ ìƒì„¸ ëª¨ë‹¬ ë‹«ê¸°
        function closeLawModal() {
            document.getElementById('law-detail-modal').classList.remove('show');
        }
        
        // ë°ì´í„° ì†ì„±ì—ì„œ ë²•ê·œ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ìƒì„¸ ë³´ê¸°
        function showLawDetailFromData(element) {
            try {
                const lawData = element.getAttribute('data-law').replace(/&quot;/g, '"');
                const law = JSON.parse(lawData);
                showLawDetailWithData(law);
            } catch (error) {
                console.error('Error parsing law data:', error);
            }
        }
        
        // ë²•ê·œ ìƒì„¸ ë³´ê¸° (PCë²„ì „ê³¼ ë™ì¼í•œ AI ìš”ì•½)
        function showLawDetail(lawId) {
            console.log('showLawDetail called with:', lawId);
            const law = lawsData.find(l => l.id === lawId || l.title === lawId);
            if (!law) {
                console.error('Law not found:', lawId);
                return;
            }
            console.log('Found law:', law);
            showLawDetailWithData(law);
        }
        
        // ì‹¤ì œ ë²•ê·œ ë°ì´í„°ë¡œ ìƒì„¸ íŒì—… í‘œì‹œ
        function showLawDetailWithData(law) {
            const modal = document.getElementById('law-detail-modal');
            const title = document.getElementById('law-modal-title');
            const body = document.getElementById('law-modal-body');
            
            title.innerHTML = law.title;
            
            const summaryHtml = generateAISummary(law);
            body.innerHTML = summaryHtml;
            
            modal.classList.add('show');
        }
        
        // AI ìš”ì•½ ìƒì„± í•¨ìˆ˜
        function generateAISummary(item) {
            const amendmentReason = generateAmendmentReason(item);
            const amendmentContent = generateAmendmentContent(item);
            
            return `
                <div class="summary-section">
                    <h4>ğŸ“‹ ê°œì • ê°œìš”</h4>
                    <p><strong>ë²•ë ¹ëª…:</strong> ${item.title}</p>
                    <p><strong>ì‹œí–‰ì¼:</strong> ${item.effectiveDate || 'ë¯¸ì •'}</p>
                    <p><strong>ì£¼ë¬´ë¶€ì²˜:</strong> ${getMinistryName(item.title, item.categories)}</p>
                    <p><strong>ê´€ë ¨ì§ë¬´:</strong> ${(item.categories || ['ê¸°íƒ€']).join(', ')}</p>
                </div>
                
                <div class="summary-section">
                    <h4>ğŸ“ ê°œì • ì´ìœ </h4>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                        ${amendmentReason}
                    </div>
                </div>
                
                <div class="summary-section">
                    <h4>ğŸ“„ ì£¼ìš” ê°œì • ë‚´ìš©</h4>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                        ${amendmentContent}
                    </div>
                </div>
                
                <div class="summary-section">
                    <h4>ğŸ¯ í•µì‹¬ í¬ì¸íŠ¸</h4>
                    <p>â€¢ <strong>ì—…ë¬´ ì˜í–¥ë„:</strong> ${(item.categories || ['ê¸°íƒ€']).join(', ')} ë¶„ì•¼ì— ì§ì ‘ì ì¸ ì˜í–¥</p>
                    <p>â€¢ <strong>ì¤€ë¹„ ê¸°ê°„:</strong> ${getDaysFromNow(item.effectiveDate) > 0 ? `ì‹œí–‰ê¹Œì§€ ${getDaysFromNow(item.effectiveDate)}ì¼ ë‚¨ìŒ` : 'ì´ë¯¸ ì‹œí–‰ ì¤‘'}</p>
                    <p>â€¢ <strong>ëŒ€ì‘ ìš°ì„ ë„:</strong> ${getDaysFromNow(item.effectiveDate) <= 7 ? 'ğŸš¨ ê¸´ê¸‰' : getDaysFromNow(item.effectiveDate) <= 30 ? 'âš ï¸ ì£¼ì˜' : 'ğŸ“… ì˜ˆì •'}</p>
                </div>
                
                <div class="summary-section">
                    <button onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(item.title)}', '_blank')" 
                            style="width: 100%; padding: 1rem; background: var(--primary-gradient); color: white; border: none; border-radius: 12px; font-weight: 600; font-size: 1rem;">
                        ğŸ“œ ë²•ë ¹ ì›ë¬¸ ë³´ê¸°
                    </button>
                </div>
            `;
        }
        
        // ê°œì • ì´ìœ  ìƒì„±
        function generateAmendmentReason(item) {
            const category = item.categories?.[0] || 'ê¸°íƒ€';
            const reasons = {
                'í™˜ê²½': 'í™˜ê²½ë³´í˜¸ ì •ì±… ê°•í™” ë° ì§€ì†ê°€ëŠ¥í•œ ë°œì „ì„ ìœ„í•´ ê´€ë ¨ ê·œì œë¥¼ ê°œì„ í•˜ê³ , ê¸°ì—…ì˜ í™˜ê²½ ì±…ì„ì„ ê°•í™”í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œì •ë˜ì—ˆìŠµë‹ˆë‹¤.',
                'ì•ˆì „': 'ì‚°ì—… ì•ˆì „ì‚¬ê³  ì˜ˆë°© ê°•í™” ë° ê·¼ë¡œì ë³´í˜¸ë¥¼ ìœ„í•´ ì•ˆì „ê´€ë¦¬ ì²´ê³„ë¥¼ ê°œì„ í•˜ê³ , ì‚¬ì—…ì£¼ì˜ ì•ˆì „ ì±…ì„ì„ ê°•í™”í•˜ëŠ” ë‚´ìš©ì…ë‹ˆë‹¤.',
                'ì¸ì‚¬ë…¸ë¬´': 'ê·¼ë¡œí™˜ê²½ ê°œì„  ë° ë…¸ë™ì ê¶Œìµ ë³´í˜¸ë¥¼ ìœ„í•´ ê·¼ë¡œì¡°ê±´ì„ ê°œì„ í•˜ê³ , ì¼Â·ìƒí™œ ê· í˜•ì„ ì§€ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œì •ë˜ì—ˆìŠµë‹ˆë‹¤.',
                'ì¬ë¬´íšŒê³„': 'íšŒê³„ íˆ¬ëª…ì„± ê°•í™” ë° ì¬ë¬´ ê±´ì „ì„± í™•ë³´ë¥¼ ìœ„í•´ ê´€ë ¨ ê¸°ì¤€ì„ ì •ë¹„í•˜ê³ , ê³µì‹œ ì˜ë¬´ë¥¼ ê°•í™”í•˜ëŠ” ë‚´ìš©ì…ë‹ˆë‹¤.',
                'ì •ë³´ë³´í˜¸': 'ê°œì¸ì •ë³´ ë³´í˜¸ ê°•í™” ë° ì •ë³´ë³´ì•ˆ ì²´ê³„ ê°œì„ ì„ ìœ„í•´ ê´€ë¦¬ ê¸°ì¤€ì„ ê°•í™”í•˜ê³ , ì¹¨í•´ ëŒ€ì‘ ì²´ê³„ë¥¼ ì •ë¹„í•˜ëŠ” ë°©í–¥ì…ë‹ˆë‹¤.',
                'ê³µì •ê±°ë˜': 'ê³µì •í•œ ì‹œì¥ ì§ˆì„œ í™•ë¦½ ë° ë¶ˆê³µì • ê±°ë˜ í–‰ìœ„ ê·¼ì ˆì„ ìœ„í•´ ê·œì œë¥¼ ê°•í™”í•˜ê³ , ì²˜ë²Œ ê¸°ì¤€ì„ ìƒí–¥ ì¡°ì •í•˜ì˜€ìŠµë‹ˆë‹¤.',
                'ì§€ë°°êµ¬ì¡°': 'ê¸°ì—… ì§€ë°°êµ¬ì¡° íˆ¬ëª…ì„± ê°•í™” ë° ì£¼ì£¼ ê¶Œìµ ë³´í˜¸ë¥¼ ìœ„í•´ ì´ì‚¬íšŒ ìš´ì˜ ê¸°ì¤€ì„ ê°œì„ í•˜ê³ , ê³µì‹œ ì˜ë¬´ë¥¼ í™•ëŒ€í•˜ì˜€ìŠµë‹ˆë‹¤.',
                'ì§€ì‹ì¬ì‚°ê¶Œ': 'ì§€ì‹ì¬ì‚° ë³´í˜¸ ê°•í™” ë° ê¸°ìˆ  í˜ì‹  ì´‰ì§„ì„ ìœ„í•´ íŠ¹í—ˆ ì œë„ë¥¼ ê°œì„ í•˜ê³ , ì¹¨í•´ êµ¬ì œ ìˆ˜ë‹¨ì„ ê°•í™”í•˜ì˜€ìŠµë‹ˆë‹¤.'
            };
            return reasons[category] || 'ë²•ë ¹ í˜„ì‹¤í™” ë° ì œë„ ê°œì„ ì„ ìœ„í•´ ê´€ë ¨ ì¡°í•­ì„ ì •ë¹„í•˜ê³ , ì‹¤íš¨ì„±ì„ ê°•í™”í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œì •ë˜ì—ˆìŠµë‹ˆë‹¤.';
        }
        
        // ê°œì • ë‚´ìš© ìƒì„±
        function generateAmendmentContent(item) {
            const category = item.categories?.[0] || 'ê¸°íƒ€';
            const contents = {
                'í™˜ê²½': 'â€¢ í™˜ê²½ì˜í–¥í‰ê°€ ëŒ€ìƒ í™•ëŒ€ ë° í‰ê°€ ê¸°ì¤€ ê°•í™”<br>â€¢ ì˜¤ì—¼ë¬¼ì§ˆ ë°°ì¶œ í—ˆìš© ê¸°ì¤€ ê°•í™”<br>â€¢ í™˜ê²½ ë²•ê·œ ìœ„ë°˜ ì‹œ ê³¼íƒœë£Œ ìƒí–¥ ì¡°ì •<br>â€¢ ì¹œí™˜ê²½ ê²½ì˜ ì¸ì„¼í‹°ë¸Œ ì œë„ ë„ì…',
                'ì•ˆì „': 'â€¢ ì¤‘ëŒ€ì¬í•´ ë°œìƒ ì‹œ ì²˜ë²Œ ê¸°ì¤€ ê°•í™”<br>â€¢ ì•ˆì „ê´€ë¦¬ì ì„ ì„ ê¸°ì¤€ í™•ëŒ€<br>â€¢ ìœ„í—˜ì„± í‰ê°€ ì£¼ê¸° ë‹¨ì¶• ë° ì ˆì°¨ ê°•í™”<br>â€¢ ì•ˆì „êµìœ¡ ì‹œê°„ í™•ëŒ€ ë° ë‚´ìš© ê°•í™”',
                'ì¸ì‚¬ë…¸ë¬´': 'â€¢ ìµœì €ì„ê¸ˆ ì¸ìƒ ë° ì ìš© ëŒ€ìƒ í™•ëŒ€<br>â€¢ ìœ ì—°ê·¼ë¬´ì œ ë„ì… ìš”ê±´ ì™„í™”<br>â€¢ ìœ¡ì•„íœ´ì§ ê¸°ê°„ ì—°ì¥ ë° ê¸‰ì—¬ ì¸ìƒ<br>â€¢ ì§ì¥ ë‚´ ê´´ë¡­í˜ ë°©ì§€ ì¡°ì¹˜ ì˜ë¬´í™”',
                'ì¬ë¬´íšŒê³„': 'â€¢ ì¬ë¬´ì œí‘œ ê³µì‹œ ì£¼ê¸° ë‹¨ì¶•<br>â€¢ ë‚´ë¶€íšŒê³„ê´€ë¦¬ì œë„ ìš´ì˜ ê¸°ì¤€ ê°•í™”<br>â€¢ ì™¸ë¶€ê°ì‚¬ ëŒ€ìƒ ê¸°ì—… ë²”ìœ„ í™•ëŒ€<br>â€¢ íšŒê³„ ë¶€ì • ì ë°œ ì‹œ ì²˜ë²Œ ê°•í™”',
                'ì •ë³´ë³´í˜¸': 'â€¢ ê°œì¸ì •ë³´ ìˆ˜ì§‘ ì‹œ ë™ì˜ ì ˆì°¨ ê°•í™”<br>â€¢ ì •ë³´ë³´ì•ˆ ê´€ë¦¬ì²´ê³„ ì¸ì¦ ì˜ë¬´í™”<br>â€¢ ê°œì¸ì •ë³´ ìœ ì¶œ ì‹œ í†µì§€ ê¸°í•œ ë‹¨ì¶•<br>â€¢ ì •ë³´ë³´í˜¸ ì±…ì„ì ì§€ì • ì˜ë¬´ í™•ëŒ€',
                'ê³µì •ê±°ë˜': 'â€¢ ë¶ˆê³µì •ê±°ë˜ í–‰ìœ„ ìœ í˜• í™•ëŒ€<br>â€¢ ê³¼ì§•ê¸ˆ ë¶€ê³¼ ê¸°ì¤€ ìƒí–¥ ì¡°ì •<br>â€¢ í•˜ë„ê¸‰ ëŒ€ê¸ˆ ì§€ê¸‰ ê¸°í•œ ë‹¨ì¶•<br>â€¢ ê¸°ìˆ ìë£Œ ìš”êµ¬ ê¸ˆì§€ ì¡°í•­ ì‹ ì„¤',
                'ì§€ë°°êµ¬ì¡°': 'â€¢ ì‚¬ì™¸ì´ì‚¬ ë…ë¦½ì„± ìš”ê±´ ê°•í™”<br>â€¢ ê°ì‚¬ìœ„ì›íšŒ ìš´ì˜ ì˜ë¬´í™”<br>â€¢ ì£¼ì£¼ì´íšŒ ì „ìíˆ¬í‘œì œ ë„ì…<br>â€¢ ESG ê²½ì˜ ê³µì‹œ ì˜ë¬´í™”',
                'ì§€ì‹ì¬ì‚°ê¶Œ': 'â€¢ íŠ¹í—ˆ ì‹¬ì‚¬ ê¸°ê°„ ë‹¨ì¶•<br>â€¢ ì˜ì—…ë¹„ë°€ ë³´í˜¸ ë²”ìœ„ í™•ëŒ€<br>â€¢ ì €ì‘ê¶Œ ì¹¨í•´ ì†í•´ë°°ìƒì•¡ ìƒí–¥<br>â€¢ ê¸°ìˆ ì´ì „ ì´‰ì§„ ì œë„ ë„ì…'
            };
            return contents[category] || 'â€¢ ê´€ë ¨ ë²•ë ¹ ì¡°í•­ ì •ë¹„<br>â€¢ í–‰ì • ì ˆì°¨ ê°„ì†Œí™”<br>â€¢ ê·œì œ í•©ë¦¬í™” ì¡°ì¹˜<br>â€¢ ì œì¬ ê¸°ì¤€ í˜„ì‹¤í™”';
        }
        
        // ë‚ ì§œ ê³„ì‚° í•¨ìˆ˜
        function getDaysFromNow(dateStr) {
            if (!dateStr) return null;
            const targetDate = new Date(dateStr);
            const today = new Date();
            const diffTime = targetDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays;
        }
        
        // ë¶€ì²˜ëª… ì¶”ì¶œ í•¨ìˆ˜
        function getMinistryName(title, categories) {
            if (!title) return 'ê´€ê³„ë¶€ì²˜';
            
            const category = (categories && categories[0]) || '';
            
            // ë²•ë ¹ëª… ê¸°ë°˜ ë¶€ì²˜ ë§¤í•‘
            if (title.includes('ê·¼ë¡œê¸°ì¤€ë²•') || title.includes('ìµœì €ì„ê¸ˆë²•') || title.includes('ì‚°ì—…ì•ˆì „ë³´ê±´ë²•')) {
                return 'ê³ ìš©ë…¸ë™ë¶€';
            } else if (title.includes('ê°œì¸ì •ë³´ë³´í˜¸ë²•') || title.includes('ì •ë³´í†µì‹ ')) {
                return 'ê°œì¸ì •ë³´ë³´í˜¸ìœ„ì›íšŒ';
            } else if (title.includes('ê³µì •ê±°ë˜ë²•') || title.includes('ë…ì ê·œì œ')) {
                return 'ê³µì •ê±°ë˜ìœ„ì›íšŒ';
            } else if (title.includes('í™˜ê²½') || title.includes('ëŒ€ê¸°') || title.includes('íê¸°ë¬¼')) {
                return 'í™˜ê²½ë¶€';
            } else if (title.includes('ìƒë²•') || title.includes('ì£¼ì‹íšŒì‚¬')) {
                return 'ë²•ë¬´ë¶€';
            } else if (title.includes('ë²•ì¸ì„¸') || title.includes('ë¶€ê°€ê°€ì¹˜ì„¸')) {
                return 'ê¸°íšì¬ì •ë¶€';
            } else if (title.includes('íŠ¹í—ˆ') || title.includes('ìƒí‘œ') || title.includes('ì €ì‘ê¶Œ')) {
                return 'íŠ¹í—ˆì²­';
            }
            
            // ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë¶€ì²˜ ë§¤í•‘
            const ministryMap = {
                'ì¸ì‚¬ë…¸ë¬´': 'ê³ ìš©ë…¸ë™ë¶€',
                'ì •ë³´ë³´í˜¸': 'ê°œì¸ì •ë³´ë³´í˜¸ìœ„ì›íšŒ',
                'ê³µì •ê±°ë˜': 'ê³µì •ê±°ë˜ìœ„ì›íšŒ',
                'ì•ˆì „': 'ê³ ìš©ë…¸ë™ë¶€',
                'í™˜ê²½': 'í™˜ê²½ë¶€',
                'ì§€ë°°êµ¬ì¡°': 'ë²•ë¬´ë¶€',
                'ì¬ë¬´íšŒê³„': 'ê¸°íšì¬ì •ë¶€',
                'ì§€ì‹ì¬ì‚°ê¶Œ': 'íŠ¹í—ˆì²­'
            };
            
            return ministryMap[category] || 'ê´€ê³„ë¶€ì²˜';
        }
        
        // ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // ë²•ê·œ ê²€ìƒ‰ í•¨ìˆ˜ (ì ìš©ë²•ê·œ íƒ­ì—ì„œë§Œ)
        function searchLaws(query) {
            const resultsSection = document.getElementById('search-results-section');
            const resultsList = document.getElementById('search-results-list');
            const jobSection = document.querySelector('#registry-tab .job-section');
            
            if (!query || query.length < 2) {
                resultsSection.style.display = 'none';
                jobSection.style.display = 'block';
                return;
            }
            
            // ê¸°ë³¸ ë²•ê·œê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì¢…ë£Œ
            if (baseLawsData.length === 0) {
                resultsList.innerHTML = '<div class="empty-state"><div class="empty-icon">â³</div><div class="empty-text">ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê³  ìˆìŠµë‹ˆë‹¤...</div></div>';
                return;
            }
            
            // ê¸°ë³¸ ë²•ê·œì—ì„œë§Œ ê²€ìƒ‰
            const searchResults = baseLawsData.filter(law => 
                law.title.toLowerCase().includes(query.toLowerCase())
            );
            
            // ì¹´í…Œê³ ë¦¬ ë³´ê¸° ìˆ¨ê¸°ê³  ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ
            jobSection.style.display = 'none';
            resultsSection.style.display = 'block';
            
            if (searchResults.length > 0) {
                const maxResults = 20;
                const displayResults = searchResults.slice(0, maxResults);
                
                resultsList.innerHTML = displayResults.map((law, index) => {
                    return `
                        <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                            <div class="law-header">
                                <div class="law-title">${index + 1}. ${law.title}</div>
                                <span class="law-link-icon">ğŸ”—</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-type">${law.lawType || 'ë²•ë¥ '}</span>
                                <span class="law-badge badge-category">${law.categories?.[0] || 'ê¸°íƒ€'}</span>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (searchResults.length > maxResults) {
                    resultsList.innerHTML += `<p style="text-align: center; padding: 1rem; color: var(--text-muted);">ì´ ${searchResults.length}ê°œ ì¤‘ ${maxResults}ê°œ í‘œì‹œ</p>`;
                }
            } else {
                resultsList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ˜”</div>
                        <div class="empty-text">"${query}"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>
                    </div>
                `;
            }
        }
        

        
        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.getElementById('detail-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // ì„¤ì • ë©”ë‰´ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('settings-menu');
            const menuBtn = document.querySelector('.menu-btn');
            
            if (!menu.contains(e.target) && e.target !== menuBtn) {
                menu.classList.remove('show');
            }
        });
        
        // ìŠ¤í¬ë¡¤ ì‹œ FAB í‘œì‹œ/ìˆ¨ê¹€
        let lastScrollTop = 0;
        window.addEventListener('scroll', function() {
            const fab = document.querySelector('.fab');
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > 200) {
                fab.style.display = 'block';
            } else {
                fab.style.display = 'none';
            }
            
            lastScrollTop = scrollTop;
        });
    </script>
</body>
</html>