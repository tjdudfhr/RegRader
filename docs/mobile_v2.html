<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RegRader Mobile ¬∑ AI Î≤ïÍ∑ú Í∞úÏ†ï Î™®ÎãàÌÑ∞ÎßÅ ÏãúÏä§ÌÖú</title>
    <link rel="shortcut icon" href="data:text/plain;base64,üèõÔ∏è">
    
    <!-- Î™®Î∞îÏùº Î≤ÑÏ†Ñ Ïú†ÏßÄ - Ï∫êÏãúÎêú ÏÇ¨Ïö©ÏûêÎ•º ÏúÑÌï® -->
    <script>
        console.log('Mobile version loaded - keeping for cached users');
        // Service Worker Ï∫êÏãú ÌÅ¥Î¶¨Ïñ¥ ÏãúÎèÑ
        if ('serviceWorker' in navigator) {
            caches.keys().then(function(names) {
                for (let name of names) caches.delete(name);
            });
        }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #667eea;
            --primary-light: #764ba2;
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --bg: #f7fafc;
            --card-bg: #ffffff;
            --text: #2d3748;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --border: #e2e8f0;
            --success: #48bb78;
            --warning: #f093fb;
            --danger: #fc466b;
            --info: #4299e1;
            
            --c-env: #38b2ac;
            --c-safety: #48bb78;
            --c-hr: #ed8936;
            --c-fin: #4299e1;
            --c-info: #f56565;
            --c-fair: #9f7aea;
            --c-ip: #f6ad55;
            --c-gov: #667eea;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 60px;
        }

        /* ÏÉÅÎã® Ìó§Îçî */
        .mobile-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
        }
        
        .logo-wrapper {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            cursor: pointer;
        }
        
        .logo-icon {
            font-size: 2.5rem;
            line-height: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 2.8rem;
        }
        
        .logo-text-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .logo-title {
            font-size: 1.2rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .header-subtitle {
            font-size: 0.7rem;
            opacity: 0.9;
            margin-top: 0.1rem;
            line-height: 1;
        }

        .menu-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem;
            border-radius: 8px;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Ï£ºÏöî ÌÜµÍ≥Ñ ÏÑπÏÖò */
        .stats-section {
            padding: 1rem;
            display: grid;
            gap: 1rem;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
        }

        .stat-card.highlight {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }

        .stat-title-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stat-icon {
            font-size: 1.2rem;
        }

        .stat-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text);
        }

        .stat-subtitle {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .stat-main-value {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
        }

        .mini-stat {
            text-align: center;
            padding: 0.5rem;
            background: rgba(0,0,0,0.02);
            border-radius: 8px;
        }

        .mini-stat-value {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .mini-stat-label {
            font-size: 0.65rem;
            color: var(--text-muted);
            margin-top: 0.2rem;
        }

        /* ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */
        .tab-nav {
            background: white;
            position: sticky;
            top: 60px;
            z-index: 90;
            border-bottom: 2px solid var(--border);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .tab-nav::-webkit-scrollbar {
            display: none;
        }

        .tab-nav-inner {
            display: flex;
            padding: 0 0.5rem;
            min-width: max-content;
        }

        .tab-btn {
            padding: 0.8rem 1rem;
            border: none;
            background: none;
            color: var(--text-muted);
            font-weight: 600;
            font-size: 0.85rem;
            position: relative;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .tab-btn .tab-icon {
            font-size: 1rem;
        }

        .tab-btn.active {
            color: var(--primary);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }

        /* ÌÉ≠ Ïª®ÌÖêÏ∏† */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Î∂ÑÍ∏∞Î≥Ñ Ïπ¥Îìú */
        .quarter-section {
            padding: 1rem;
        }

        .section-title {
            font-size: 1rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quarter-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8rem;
        }

        .quarter-card {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .quarter-card:active {
            transform: scale(0.98);
        }

        .quarter-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
        }

        .quarter-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .quarter-name {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text);
            margin-bottom: 0.2rem;
        }

        .quarter-period {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .quarter-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
        }

        .quarter-count {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
        }

        .quarter-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .download-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        /* ÏßÅÎ¨¥Î≥Ñ Î¶¨Ïä§Ìä∏ */
        .job-section {
            padding: 1rem;
        }

        .job-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8rem;
        }

        .job-card {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .job-card:active {
            transform: scale(0.98);
        }

        .job-icon-wrapper {
            width: 50px;
            height: 50px;
            margin: 0 auto 0.5rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .job-env { background: rgba(56, 178, 172, 0.1); }
        .job-safety { background: rgba(72, 187, 120, 0.1); }
        .job-fin { background: rgba(66, 153, 225, 0.1); }
        .job-hr { background: rgba(237, 137, 54, 0.1); }
        .job-info { background: rgba(245, 101, 101, 0.1); }
        .job-fair { background: rgba(159, 122, 234, 0.1); }
        .job-ip { background: rgba(246, 173, 85, 0.1); }
        .job-gov { background: rgba(102, 126, 234, 0.1); }

        .job-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text);
            margin-bottom: 0.3rem;
        }

        .job-count {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .job-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* Î≤ïÍ∑ú Î¶¨Ïä§Ìä∏ */
        .law-list {
            padding: 1rem;
            display: grid;
            gap: 0.8rem;
        }

        .law-item {
            background: white;
            border-radius: 10px;
            padding: 0.8rem;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .law-item:active {
            background: var(--bg);
        }

        .law-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.5rem;
        }

        .law-title {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text);
            flex: 1;
            line-height: 1.3;
        }

        .law-link-icon {
            color: var(--primary);
            font-size: 1rem;
            margin-left: 0.5rem;
        }

        .law-meta {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            font-size: 0.7rem;
        }

        .law-badge {
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
        }

        .badge-category {
            background: rgba(102, 126, 234, 0.1);
            color: var(--primary);
        }

        .badge-type {
            background: rgba(0, 0, 0, 0.05);
            color: var(--text-secondary);
        }

        .badge-status-upcoming {
            background: rgba(240, 147, 251, 0.1);
            color: var(--warning);
        }

        .badge-status-completed {
            background: rgba(72, 187, 120, 0.1);
            color: var(--success);
        }

        .law-date {
            color: var(--text-muted);
        }

        /* Í≤ÄÏÉâ Î∞î */
        .search-section {
            padding: 1rem;
            background: white;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 110px;
            z-index: 80;
        }

        .search-input {
            width: 100%;
            padding: 0.8rem;
            padding-left: 2.5rem;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 0.9rem;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23718096' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.35-4.35'/%3E%3C/svg%3E") no-repeat 10px center;
            background-size: 20px;
        }

        /* ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--border);
            display: flex;
            padding: 0.3rem 0;
            z-index: 100;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            color: var(--text-muted);
            cursor: pointer;
            transition: color 0.2s;
            text-decoration: none;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        .nav-label {
            font-size: 0.65rem;
            font-weight: 500;
        }

        /* Î™®Îã¨ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 200;
            animation: fadeIn 0.3s;
        }

        .modal.show {
            display: block;
        }

        .modal-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 20px 20px 0 0;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s;
        }

        .modal-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
        }

        .modal-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.2rem;
        }

        .modal-body {
            padding: 1rem;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        /* Î°úÎî© */
        .loading {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-muted);
        }

        .spinner {
            border: 3px solid var(--border);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Îπà ÏÉÅÌÉú */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-muted);
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-text {
            font-size: 0.9rem;
        }
        
        /* TOP 3 Ïπ¥ÌÖåÍ≥†Î¶¨ Ïä§ÌÉÄÏùº */
        .top-categories {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        
        .top-category-item {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            position: relative;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border);
            overflow: hidden;
        }
        
        .top-category-item:active {
            transform: scale(0.98);
        }
        
        .rank-badge {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.1rem;
            color: white;
            flex-shrink: 0;
        }
        
        .top-category-item:nth-child(1) .rank-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
        }
        
        .top-category-item:nth-child(2) .rank-badge {
            background: linear-gradient(135deg, #C0C0C0, #808080);
        }
        
        .top-category-item:nth-child(3) .rank-badge {
            background: linear-gradient(135deg, #CD7F32, #8B4513);
        }
        
        .category-info {
            flex: 1;
        }
        
        .category-name {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text);
            margin-bottom: 0.2rem;
        }
        
        .category-count {
            font-size: 0.85rem;
            color: var(--text-muted);
        }
        
        .category-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: var(--primary-gradient);
        }
        
        /* ÏöîÏïΩ ÏÑπÏÖò Ïä§ÌÉÄÏùº */
        .summary-section {
            margin-bottom: 1.5rem;
        }
        
        .summary-section h4 {
            font-size: 1rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.8rem;
        }
        
        .summary-section p {
            font-size: 0.85rem;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* ÌîåÎ°úÌåÖ Ïï°ÏÖò Î≤ÑÌäº */
        .fab {
            position: fixed;
            bottom: 70px;
            right: 1rem;
            width: 50px;
            height: 50px;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.5rem;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            cursor: pointer;
            z-index: 90;
            transition: transform 0.2s;
        }

        .fab:active {
            transform: scale(0.95);
        }

        /* ÏÑ§Ï†ï Î©îÎâ¥ */
        .settings-menu {
            display: none;
            position: fixed;
            top: 60px;
            right: 0;
            background: white;
            border-radius: 0 0 0 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 110;
            width: 200px;
        }

        .settings-menu.show {
            display: block;
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        .menu-item {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text);
            transition: background 0.2s;
        }

        .menu-item:active {
            background: var(--bg);
        }

        .menu-item:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <!-- Ìó§Îçî -->
    <header class="mobile-header">
        <div class="header-content">
            <div class="logo-wrapper" onclick="showOverview()">
                <span class="logo-icon">üèõÔ∏è</span>
                <div class="logo-text-wrapper">
                    <div class="logo-title">RegRader</div>
                    <div class="header-subtitle">AI Î≤ïÍ∑ú Í∞úÏ†ï Î™®ÎãàÌÑ∞ÎßÅ ÏãúÏä§ÌÖú</div>
                </div>
            </div>
            <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
        </div>
    </header>

    <!-- ÏÑ§Ï†ï Î©îÎâ¥ -->
    <div class="settings-menu" id="settings-menu">
        <div class="menu-item" onclick="alert('Ïù¥Î©îÏùº ÏïåÎ¶º ÏÑ§Ï†ï')">üîî ÏïåÎ¶º ÏÑ§Ï†ï</div>
        <div class="menu-item" onclick="alert('Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®')">üîÑ ÏÉàÎ°úÍ≥†Ïπ®</div>
        <div class="menu-item" onclick="localStorage.setItem('forceMobile', ''); window.location.href='./index.html';">üíª PC Î≤ÑÏ†Ñ</div>
        <div class="menu-item" onclick="alert('ÎèÑÏõÄÎßê')">‚ùì ÎèÑÏõÄÎßê</div>
    </div>

    <!-- ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
    <div class="tab-nav">
        <div class="tab-nav-inner">
            <button class="tab-btn active" onclick="switchTab('quarterly')">
                <span class="tab-icon">üìÖ</span>
                <span>Î∂ÑÍ∏∞Î≥Ñ</span>
            </button>
            <button class="tab-btn" onclick="switchTab('category')">
                <span class="tab-icon">üè¢</span>
                <span>ÏßÅÎ¨¥Î≥Ñ</span>
            </button>
            <button class="tab-btn" onclick="switchTab('registry')">
                <span class="tab-icon">üìö</span>
                <span>Ï†ÅÏö©Î≤ïÍ∑ú</span>
            </button>
        </div>
    </div>

    <!-- Ï¢ÖÌï©ÌòÑÌô© (Í∏∞Î≥∏ ÌéòÏù¥ÏßÄ) -->
    <div id="overview-section" style="display: block;">
        <div class="stats-section">
            <!-- Ï†ÑÏ≤¥ Í∞úÏ†ï Î≤ïÎ†π -->
            <div class="stat-card highlight">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div class="stat-header">
                            <div class="stat-title-group">
                                <span class="stat-icon">üìà</span>
                                <div>
                                    <div class="stat-title">2025ÎÖÑ Í∞úÏ†ï Î≤ïÍ∑ú ÌòÑÌô©</div>
                                    <div class="stat-subtitle">Íµ≠Í∞ÄÎ≤ïÎ†πÏ†ïÎ≥¥ÏÑºÌÑ∞ ÏàòÏßë Îç∞Ïù¥ÌÑ∞</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div class="stat-main-value">2,809</div>
                        <div class="stat-subtitle">Ï†ÑÏ≤¥ Í∞úÏ†ï Î≤ïÎ†π</div>
                    </div>
                </div>
            </div>

            <!-- ÎãπÏÇ¨ Îß§Ïπ≠ ÌòÑÌô© -->
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title-group">
                        <span class="stat-icon">üéØ</span>
                        <div>
                            <div class="stat-title">ÎãπÏÇ¨ Ï†ÅÏö© Î≤ïÍ∑ú Îß§Ïπ≠ ÌòÑÌô©</div>
                            <div class="stat-subtitle">207Í∞ú Í∏∞Î≥∏ Î≤ïÍ∑ú Ï§ë Îß§Ïπ≠ Í≤∞Í≥º</div>
                        </div>
                    </div>
                </div>
                <div class="stat-grid">
                    <div class="mini-stat">
                        <div class="mini-stat-value" style="color: var(--primary);">259</div>
                        <div class="mini-stat-label">Ï¥ù Îß§Ïπ≠</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-value" style="color: var(--success);">200</div>
                        <div class="mini-stat-label">ÏãúÌñâÏôÑÎ£å</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-value" style="color: var(--warning);">59</div>
                        <div class="mini-stat-label">ÏãúÌñâÏòàÏ†ï</div>
                    </div>
                </div>
            </div>


        </div>

        <!-- Ïù¥Î≤àÏ£º Ï£ºÏöî ÏãúÌñâ Î≤ïÎ†π -->
        <div class="quarter-section">
            <div class="section-title">
                <span>üî•</span>
                <span>Ïù¥Î≤àÏ£º ÏãúÌñâ Î≤ïÎ†π</span>
                <span style="font-size: 0.8rem; color: var(--text-muted); margin-left: 0.5rem;" id="week-info"></span>
            </div>
            <div id="weekly-laws" class="law-list" style="max-height: 300px; overflow-y: auto;">
                <!-- Ïù¥Î≤àÏ£º ÏãúÌñâ Î≤ïÎ†πÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
            </div>
        </div>
        
        <!-- TOP 3 ÏßÅÎ¨¥Î≥Ñ Í∞úÏ†ï ÌòÑÌô© -->
        <div class="quarter-section">
            <div class="section-title">
                <span>üèÜ</span>
                <span>TOP 3 ÏßÅÎ¨¥Î≥Ñ Í∞úÏ†ï ÌòÑÌô©</span>
            </div>
            <div class="top-categories">
                <div class="top-category-item" onclick="showJobDetail('ÌôòÍ≤Ω')">
                    <div class="rank-badge">1</div>
                    <div class="category-info">
                        <div class="category-name">ÌôòÍ≤Ω</div>
                        <div class="category-count">99Í∞ú Î≤ïÎ†π</div>
                    </div>
                    <div class="category-bar" style="width: 100%;"></div>
                </div>
                <div class="top-category-item" onclick="showJobDetail('ÏïàÏ†Ñ')">
                    <div class="rank-badge">2</div>
                    <div class="category-info">
                        <div class="category-name">ÏïàÏ†Ñ</div>
                        <div class="category-count">52Í∞ú Î≤ïÎ†π</div>
                    </div>
                    <div class="category-bar" style="width: 52%;"></div>
                </div>
                <div class="top-category-item" onclick="showJobDetail('Ïû¨Î¨¥ÌöåÍ≥Ñ')">
                    <div class="rank-badge">3</div>
                    <div class="category-info">
                        <div class="category-name">Ïû¨Î¨¥ÌöåÍ≥Ñ</div>
                        <div class="category-count">47Í∞ú Î≤ïÎ†π</div>
                    </div>
                    <div class="category-bar" style="width: 47%;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Î∂ÑÍ∏∞Î≥Ñ ÌÉ≠ -->
    <div class="tab-content active" id="quarterly-tab" style="display: none;">
        <div class="quarter-section">
            <div class="section-title">
                <span>üìÖ</span>
                <span>2025ÎÖÑ Î∂ÑÍ∏∞Î≥Ñ Í∞úÏ†ï ÌòÑÌô©</span>
            </div>
            <div class="quarter-grid">
                <div class="quarter-card" onclick="showQuarterDetail('Q1')">
                    <div class="quarter-icon">üå±</div>
                    <div class="quarter-name">1Î∂ÑÍ∏∞</div>
                    <div class="quarter-period">2025ÎÖÑ 1~3Ïõî</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">119</div>
                            <div class="quarter-label">Í∞úÏ†ï Î≤ïÎ†π</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q1', event)">
                            <span>üìÑ</span>
                            <span>Îã§Ïö¥Î°úÎìú</span>
                        </button>
                    </div>
                </div>
                
                <div class="quarter-card" onclick="showQuarterDetail('Q2')">
                    <div class="quarter-icon">‚òÄÔ∏è</div>
                    <div class="quarter-name">2Î∂ÑÍ∏∞</div>
                    <div class="quarter-period">2025ÎÖÑ 4~6Ïõî</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">61</div>
                            <div class="quarter-label">Í∞úÏ†ï Î≤ïÎ†π</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q2', event)">
                            <span>üìÑ</span>
                            <span>Îã§Ïö¥Î°úÎìú</span>
                        </button>
                    </div>
                </div>
                
                <div class="quarter-card" onclick="showQuarterDetail('Q3')">
                    <div class="quarter-icon">üçÇ</div>
                    <div class="quarter-name">3Î∂ÑÍ∏∞</div>
                    <div class="quarter-period">2025ÎÖÑ 7~9Ïõî</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">64</div>
                            <div class="quarter-label">Í∞úÏ†ï Î≤ïÎ†π</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q3', event)">
                            <span>üìÑ</span>
                            <span>Îã§Ïö¥Î°úÎìú</span>
                        </button>
                    </div>
                </div>
                
                <div class="quarter-card" onclick="showQuarterDetail('Q4')">
                    <div class="quarter-icon">‚ùÑÔ∏è</div>
                    <div class="quarter-name">4Î∂ÑÍ∏∞</div>
                    <div class="quarter-period">2025ÎÖÑ 10~12Ïõî</div>
                    <div class="quarter-stats">
                        <div>
                            <div class="quarter-count">15</div>
                            <div class="quarter-label">Í∞úÏ†ï Î≤ïÎ†π</div>
                        </div>
                        <button class="download-btn" onclick="downloadExcel('Q4', event)">
                            <span>üìÑ</span>
                            <span>Îã§Ïö¥Î°úÎìú</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ÏßÅÎ¨¥Î≥Ñ ÌÉ≠ -->
    <div class="tab-content" id="category-tab">
        <div class="job-section">
            <div class="section-title">
                <span>üè¢</span>
                <span>ÏßÅÎ¨¥Î≥Ñ Í∞úÏ†ï ÌòÑÌô© (259Í∞ú Îß§Ïπ≠)</span>
            </div>
            <div class="job-grid">
                <div class="job-card" onclick="showJobDetail('ÌôòÍ≤Ω')">
                    <div class="job-icon-wrapper job-env">üå±</div>
                    <div class="job-name">ÌôòÍ≤Ω</div>
                    <div class="job-count">99</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ÏïàÏ†Ñ')">
                    <div class="job-icon-wrapper job-safety">üõ°Ô∏è</div>
                    <div class="job-name">ÏïàÏ†Ñ</div>
                    <div class="job-count">52</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('Ïû¨Î¨¥ÌöåÍ≥Ñ')">
                    <div class="job-icon-wrapper job-fin">üí∞</div>
                    <div class="job-name">Ïû¨Î¨¥ÌöåÍ≥Ñ</div>
                    <div class="job-count">47</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('Ïù∏ÏÇ¨ÎÖ∏Î¨¥')">
                    <div class="job-icon-wrapper job-hr">üë•</div>
                    <div class="job-name">Ïù∏ÏÇ¨ÎÖ∏Î¨¥</div>
                    <div class="job-count">27</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('Ï†ïÎ≥¥Î≥¥Ìò∏')">
                    <div class="job-icon-wrapper job-info">üîí</div>
                    <div class="job-name">Ï†ïÎ≥¥Î≥¥Ìò∏</div>
                    <div class="job-count">13</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('Í≥µÏ†ïÍ±∞Îûò')">
                    <div class="job-icon-wrapper job-fair">‚öñÔ∏è</div>
                    <div class="job-name">Í≥µÏ†ïÍ±∞Îûò</div>
                    <div class="job-count">10</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ÏßÄÎ∞∞Íµ¨Ï°∞')">
                    <div class="job-icon-wrapper job-gov">üèõÔ∏è</div>
                    <div class="job-name">ÏßÄÎ∞∞Íµ¨Ï°∞</div>
                    <div class="job-count">6</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showJobDetail('ÏßÄÏãùÏû¨ÏÇ∞Í∂å')">
                    <div class="job-icon-wrapper job-ip">üí°</div>
                    <div class="job-name">ÏßÄÏãùÏû¨ÏÇ∞Í∂å</div>
                    <div class="job-count">5</div>
                    <div class="job-label">Í∞úÏ†ï Î≤ïÍ∑ú</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ï†ÅÏö©Î≤ïÍ∑ú ÌÉ≠ -->
    <div class="tab-content" id="registry-tab">
        <div class="search-section">
            <input type="text" class="search-input" placeholder="207Í∞ú Í∏∞Î≥∏ Î≤ïÍ∑ú Í≤ÄÏÉâ..." onkeyup="searchLaws(this.value)" onfocus="this.select()">
        </div>
        <div class="job-section">
            <div class="section-title">
                <span>üìö</span>
                <span>207Í∞ú Í∏∞Î≥∏ Ï†ÅÏö©Î≤ïÍ∑ú</span>
            </div>
            <div class="job-grid">
                <div class="job-card" onclick="showRegistryCategory('ÌôòÍ≤Ω')">
                    <div class="job-icon-wrapper job-env">üå±</div>
                    <div class="job-name">ÌôòÍ≤Ω</div>
                    <div class="job-count">65</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ÏïàÏ†Ñ')">
                    <div class="job-icon-wrapper job-safety">üõ°Ô∏è</div>
                    <div class="job-name">ÏïàÏ†Ñ</div>
                    <div class="job-count">41</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('Ïù∏ÏÇ¨ÎÖ∏Î¨¥')">
                    <div class="job-icon-wrapper job-hr">üë•</div>
                    <div class="job-name">Ïù∏ÏÇ¨ÎÖ∏Î¨¥</div>
                    <div class="job-count">41</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('Ïû¨Î¨¥ÌöåÍ≥Ñ')">
                    <div class="job-icon-wrapper job-fin">üí∞</div>
                    <div class="job-name">Ïû¨Î¨¥ÌöåÍ≥Ñ</div>
                    <div class="job-count">19</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('Ï†ïÎ≥¥Î≥¥Ìò∏')">
                    <div class="job-icon-wrapper job-info">üîí</div>
                    <div class="job-name">Ï†ïÎ≥¥Î≥¥Ìò∏</div>
                    <div class="job-count">16</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('Í≥µÏ†ïÍ±∞Îûò')">
                    <div class="job-icon-wrapper job-fair">‚öñÔ∏è</div>
                    <div class="job-name">Í≥µÏ†ïÍ±∞Îûò</div>
                    <div class="job-count">11</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ÏßÄÎ∞∞Íµ¨Ï°∞')">
                    <div class="job-icon-wrapper job-gov">üèõÔ∏è</div>
                    <div class="job-name">ÏßÄÎ∞∞Íµ¨Ï°∞</div>
                    <div class="job-count">7</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
                
                <div class="job-card" onclick="showRegistryCategory('ÏßÄÏãùÏû¨ÏÇ∞Í∂å')">
                    <div class="job-icon-wrapper job-ip">üí°</div>
                    <div class="job-name">ÏßÄÏãùÏû¨ÏÇ∞Í∂å</div>
                    <div class="job-count">7</div>
                    <div class="job-label">Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                </div>
            </div>
        </div>
        
        <!-- Í≤ÄÏÉâ Í≤∞Í≥º ÏòÅÏó≠ -->
        <div id="search-results-section" style="display: none; padding: 1rem;">
            <div class="section-title">
                <span>üîç</span>
                <span>Í≤ÄÏÉâ Í≤∞Í≥º</span>
            </div>
            <div id="search-results-list" class="law-list">
                <!-- Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
            </div>
        </div>
    </div>

    <!-- ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchMainSection('home', this)">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Ìôà</span>
        </div>
        <div class="nav-item" onclick="switchMainSection('search', this)">
            <span class="nav-icon">üîç</span>
            <span class="nav-label">Í≤ÄÏÉâ</span>
        </div>
        <div class="nav-item" onclick="switchMainSection('download', this)">
            <span class="nav-icon">üì•</span>
            <span class="nav-label">Îã§Ïö¥Î°úÎìú</span>
        </div>
        <div class="nav-item" onclick="switchMainSection('settings', this)">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span class="nav-label">ÏÑ§Ï†ï</span>
        </div>
    </nav>

    <!-- ÌîåÎ°úÌåÖ Ïï°ÏÖò Î≤ÑÌäº -->
    <button class="fab" onclick="scrollToTop()">‚Üë</button>

    <!-- Î™®Îã¨ -->
    <div class="modal" id="detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h3>
                <button class="modal-close" onclick="closeModal()">‚úï</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- ÎèôÏ†Å Ïª®ÌÖêÏ∏† -->
            </div>
        </div>
    </div>

    <!-- Î≤ïÍ∑ú ÏÉÅÏÑ∏ Î™®Îã¨ -->
    <div class="modal" id="law-detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="law-modal-title">Î≤ïÎ†π ÏÉÅÏÑ∏</h3>
                <button class="modal-close" onclick="closeLawModal()">‚úï</button>
            </div>
            <div class="modal-body" id="law-modal-body">
                <!-- AI ÏöîÏïΩ ÎÇ¥Ïö©Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
            </div>
        </div>
    </div>

    <script>
        // Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•ÏÜå
        let lawsData = [];
        let baseLawsData = [];
        
        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞
        document.addEventListener('DOMContentLoaded', async function() {
            await loadLawsData();
            await loadBaseLaws();
            updateAllCounts();
            updateWeeklyLaws();
            updateWeekInfo();
        });
        
        // Ïù¥Î≤àÏ£º Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏
        function updateWeekInfo() {
            const now = new Date();
            const weekStart = new Date(now);
            weekStart.setDate(now.getDate() - now.getDay()); // ÏùºÏöîÏùº
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6); // ÌÜ†ÏöîÏùº
            
            const formatDate = (date) => {
                return `${date.getMonth() + 1}.${date.getDate()}`;
            };
            
            document.getElementById('week-info').textContent = 
                `${formatDate(weekStart)} ~ ${formatDate(weekEnd)}`;
        }
        
        // Ïù¥Î≤àÏ£º ÏãúÌñâ Î≤ïÎ†π ÏóÖÎç∞Ïù¥Ìä∏
        function updateWeeklyLaws() {
            if (lawsData.length === 0) return;
            
            const now = new Date();
            const weekStart = new Date(now);
            weekStart.setDate(now.getDate() - now.getDay());
            weekStart.setHours(0, 0, 0, 0);
            
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6);
            weekEnd.setHours(23, 59, 59, 999);
            
            // Ïù¥Î≤àÏ£º ÏãúÌñâ Î≤ïÎ†π ÌïÑÌÑ∞ÎßÅ
            const weeklyLaws = lawsData.filter(law => {
                if (!law.effectiveDate) return false;
                const effectiveDate = new Date(law.effectiveDate);
                return effectiveDate >= weekStart && effectiveDate <= weekEnd;
            }).sort((a, b) => new Date(a.effectiveDate) - new Date(b.effectiveDate));
            
            const weeklyLawsDiv = document.getElementById('weekly-laws');
            
            if (weeklyLaws.length > 0) {
                weeklyLawsDiv.innerHTML = weeklyLaws.slice(0, 5).map(law => {
                    const date = new Date(law.effectiveDate);
                    const dateStr = `${date.getMonth() + 1}/${date.getDate()}`;
                    const dayNames = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'];
                    const dayName = dayNames[date.getDay()];
                    
                    const lawData = JSON.stringify(law).replace(/"/g, '&quot;');
                    
                    return `
                        <div class="law-item" data-law='${lawData}' onclick="showLawDetailFromData(this)" style="cursor: pointer;">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">üîó</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-category">${law.categories?.[0] || 'Í∏∞ÌÉÄ'}</span>
                                <span class="law-badge badge-status-upcoming">${dateStr}(${dayName})</span>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (weeklyLaws.length > 5) {
                    weeklyLawsDiv.innerHTML += `<p style="text-align: center; padding: 0.5rem; color: var(--text-muted); font-size: 0.85rem;">Ïô∏ ${weeklyLaws.length - 5}Í∞ú Îçî...</p>`;
                }
            } else {
                weeklyLawsDiv.innerHTML = `
                    <div class="empty-state" style="padding: 2rem;">
                        <div class="empty-icon">üìÖ</div>
                        <div class="empty-text">Ïù¥Î≤àÏ£º ÏãúÌñâ ÏòàÏ†ï Î≤ïÎ†πÏù¥ ÏóÜÏäµÎãàÎã§</div>
                    </div>
                `;
            }
        }
        
        // 259Í∞ú Îß§Ïπ≠ Î≤ïÍ∑ú Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadLawsData() {
            try {
                const response = await fetch('./index.json');
                const data = await response.json();
                lawsData = data.items || [];
                console.log('Loaded', lawsData.length, 'matched laws');
            } catch (error) {
                console.error('Failed to load laws data:', error);
            }
        }
        
        // 207Í∞ú Í∏∞Î≥∏ Î≤ïÍ∑ú Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadBaseLaws() {
            try {
                const response = await fetch('./base_laws_207.json');
                const data = await response.json();
                baseLawsData = data.items || [];
                console.log('Loaded', baseLawsData.length, 'base laws');
            } catch (error) {
                console.error('Failed to load base laws:', error);
            }
        }
        
        // Î™®Îì† Ïπ¥Ïö¥Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
        function updateAllCounts() {
            if (lawsData.length === 0) return;
            
            // Î∂ÑÍ∏∞Î≥Ñ Ïπ¥Ïö¥Ìä∏ Í≥ÑÏÇ∞
            const quarterCounts = { Q1: 0, Q2: 0, Q3: 0, Q4: 0 };
            lawsData.forEach(law => {
                if (!law.effectiveDate) return;
                const date = new Date(law.effectiveDate);
                const month = date.getMonth() + 1;
                const year = date.getFullYear();
                
                if (year === 2025) {
                    if (month <= 3) quarterCounts.Q1++;
                    else if (month <= 6) quarterCounts.Q2++;
                    else if (month <= 9) quarterCounts.Q3++;
                    else quarterCounts.Q4++;
                }
            });
            
            // ÏßÅÎ¨¥Î≥Ñ Ïπ¥Ïö¥Ìä∏ Í≥ÑÏÇ∞
            const categoryCounts = {};
            lawsData.forEach(law => {
                if (law.categories && law.categories[0]) {
                    const cat = law.categories[0];
                    categoryCounts[cat] = (categoryCounts[cat] || 0) + 1;
                }
            });
            
            // UI ÏóÖÎç∞Ïù¥Ìä∏Îäî ÎÇòÏ§ëÏóê Íµ¨ÌòÑ
            console.log('Quarter counts:', quarterCounts);
            console.log('Category counts:', categoryCounts);
        }
        
        // Ï¢ÖÌï©ÌòÑÌô© ÌëúÏãú
        function showOverview() {
            // Î™®Îì† ÌÉ≠ Ïª®ÌÖêÏ∏† Ïà®Í∏∞Í∏∞
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            // Ï¢ÖÌï©ÌòÑÌô© ÏÑπÏÖò ÌëúÏãú
            document.getElementById('overview-section').style.display = 'block';
            // ÌÉ≠ Î≤ÑÌäº ÎπÑÌôúÏÑ±Ìôî
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
        }
        
        // ÌÉ≠ Ï†ÑÌôò
        function switchTab(tabName) {
            // Ï¢ÖÌï©ÌòÑÌô© ÏÑπÏÖò Ïà®Í∏∞Í∏∞
            document.getElementById('overview-section').style.display = 'none';
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.tab-btn').classList.add('active');
            
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Ï†ÅÏö©Î≤ïÍ∑ú ÌÉ≠Ïù¥Î©¥ Îç∞Ïù¥ÌÑ∞ Î°úÎìú
            if (tabName === 'registry' && baseLawsData.length === 0) {
                loadBaseLaws();
            }
        }
        
        // ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ï†ÑÌôò
        function switchMainSection(section, element) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            element.classList.add('active');
            
            if (section === 'home') {
                showOverview();
            } else if (section === 'search') {
                openSearchModal();
            } else if (section === 'download') {
                openDownloadModal();
            } else if (section === 'settings') {
                toggleMenu();
            }
        }
        
        // Î©îÎâ¥ ÌÜ†Í∏Ä
        function toggleMenu() {
            const menu = document.getElementById('settings-menu');
            menu.classList.toggle('show');
        }
        
        // Î∂ÑÍ∏∞ ÏÉÅÏÑ∏ Î≥¥Í∏∞
        function showQuarterDetail(quarter) {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            const quarterInfo = {
                'Q1': { name: '1Î∂ÑÍ∏∞ (1~3Ïõî)', months: [1,2,3], icon: 'üå±' },
                'Q2': { name: '2Î∂ÑÍ∏∞ (4~6Ïõî)', months: [4,5,6], icon: '‚òÄÔ∏è' },
                'Q3': { name: '3Î∂ÑÍ∏∞ (7~9Ïõî)', months: [7,8,9], icon: 'üçÇ' },
                'Q4': { name: '4Î∂ÑÍ∏∞ (10~12Ïõî)', months: [10,11,12], icon: '‚ùÑÔ∏è' }
            };
            
            const info = quarterInfo[quarter];
            
            // Ìï¥Îãπ Î∂ÑÍ∏∞ Î≤ïÎ†π ÌïÑÌÑ∞ÎßÅ
            const quarterLaws = lawsData.filter(law => {
                if (!law.effectiveDate) return false;
                const date = new Date(law.effectiveDate);
                const month = date.getMonth() + 1;
                const year = date.getFullYear();
                return year === 2025 && info.months.includes(month);
            }).sort((a, b) => {
                // ÎÇ†ÏßúÏàú Ï†ïÎ†¨
                return new Date(a.effectiveDate) - new Date(b.effectiveDate);
            });
            
            title.innerHTML = `${info.icon} ${info.name} ÏãúÌñâ Î≤ïÎ†π`;
            
            let lawListHTML = '';
            if (quarterLaws.length > 0) {
                lawListHTML = quarterLaws.map(law => {
                    const date = new Date(law.effectiveDate);
                    const dateStr = date.toLocaleDateString('ko-KR', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit'
                    }).replace(/\. /g, '.').replace(/\.$/, '');
                    
                    const status = date < new Date() ? 'ÏãúÌñâÏôÑÎ£å' : 'ÏãúÌñâÏòàÏ†ï';
                    const statusClass = status === 'ÏãúÌñâÏôÑÎ£å' ? 'badge-status-completed' : 'badge-status-upcoming';
                    
                    // Îç∞Ïù¥ÌÑ∞ ÏÜçÏÑ±ÏúºÎ°ú Ï†ÑÎã¨ÌïòÎäî Î∞©ÏãùÏúºÎ°ú Î≥ÄÍ≤Ω
                    const lawIndex = quarterLaws.indexOf(law);
                    const lawData = JSON.stringify(law).replace(/"/g, '&quot;');
                    
                    return `
                        <div class="law-item" data-law='${lawData}' onclick="showLawDetailFromData(this)">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">üîó</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-category">${law.categories?.[0] || 'Í∏∞ÌÉÄ'}</span>
                                <span class="law-badge ${statusClass}">${status}</span>
                                <span class="law-date">${dateStr}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                lawListHTML = '<div class="empty-state"><div class="empty-icon">üì≠</div><div class="empty-text">Ìï¥Îãπ Î∂ÑÍ∏∞Ïóê ÏãúÌñâ Î≤ïÎ†πÏù¥ ÏóÜÏäµÎãàÎã§</div></div>';
            }
            
            body.innerHTML = `
                <div class="stat-card" style="margin-bottom: 1rem;">
                    <div class="stat-title">Ï¥ù ${quarterLaws.length}Í∞ú Î≤ïÎ†π</div>
                    <div class="stat-subtitle">2025ÎÖÑ ${info.name} ÏãúÌñâ</div>
                </div>
                <div class="law-list" style="max-height: 60vh; overflow-y: auto;">
                    ${lawListHTML}
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // ÏßÅÎ¨¥ ÏÉÅÏÑ∏ Î≥¥Í∏∞
        function showJobDetail(job) {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            const jobIcons = {
                'ÌôòÍ≤Ω': 'üå±',
                'ÏïàÏ†Ñ': 'üõ°Ô∏è',
                'Ïû¨Î¨¥ÌöåÍ≥Ñ': 'üí∞',
                'Ïù∏ÏÇ¨ÎÖ∏Î¨¥': 'üë•',
                'Ï†ïÎ≥¥Î≥¥Ìò∏': 'üîí',
                'Í≥µÏ†ïÍ±∞Îûò': '‚öñÔ∏è',
                'ÏßÄÎ∞∞Íµ¨Ï°∞': 'üèõÔ∏è',
                'ÏßÄÏãùÏû¨ÏÇ∞Í∂å': 'üí°'
            };
            
            // Ìï¥Îãπ ÏßÅÎ¨¥ Î≤ïÎ†π ÌïÑÌÑ∞ÎßÅ
            const jobLaws = lawsData.filter(law => 
                law.categories && law.categories.includes(job)
            ).sort((a, b) => {
                // ÏãúÌñâÏùºÏûêÏàú Ï†ïÎ†¨
                return new Date(a.effectiveDate || '2099-12-31') - new Date(b.effectiveDate || '2099-12-31');
            });
            
            title.innerHTML = `${jobIcons[job]} ${job} Í¥ÄÎ†® Î≤ïÍ∑ú`;
            
            let lawListHTML = '';
            if (jobLaws.length > 0) {
                lawListHTML = jobLaws.map(law => {
                    const date = law.effectiveDate ? new Date(law.effectiveDate) : null;
                    const dateStr = date ? date.toLocaleDateString('ko-KR', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit'
                    }).replace(/\. /g, '.').replace(/\.$/, '') : 'ÎØ∏Ï†ï';
                    
                    const status = date && date < new Date() ? 'ÏãúÌñâÏôÑÎ£å' : 'ÏãúÌñâÏòàÏ†ï';
                    const statusClass = status === 'ÏãúÌñâÏôÑÎ£å' ? 'badge-status-completed' : 'badge-status-upcoming';
                    
                    // Îç∞Ïù¥ÌÑ∞ ÏÜçÏÑ±ÏúºÎ°ú Ï†ÑÎã¨ÌïòÎäî Î∞©ÏãùÏúºÎ°ú Î≥ÄÍ≤Ω
                    const lawData = JSON.stringify(law).replace(/"/g, '&quot;');
                    
                    return `
                        <div class="law-item" data-law='${lawData}' onclick="showLawDetailFromData(this)">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">üîó</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-type">${law.lawType || 'Î≤ïÎ•†'}</span>
                                <span class="law-badge ${statusClass}">${status}</span>
                                <span class="law-date">${dateStr}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                lawListHTML = '<div class="empty-state"><div class="empty-icon">üì≠</div><div class="empty-text">Ìï¥Îãπ ÏßÅÎ¨¥ Î≤ïÎ†πÏù¥ ÏóÜÏäµÎãàÎã§</div></div>';
            }
            
            body.innerHTML = `
                <div class="stat-card" style="margin-bottom: 1rem;">
                    <div class="stat-title">Ï¥ù ${jobLaws.length}Í∞ú Îß§Ïπ≠ Î≤ïÍ∑ú</div>
                    <div class="stat-subtitle">${job} ÏßÅÎ¨¥ Í¥ÄÎ†® 2025ÎÖÑ Í∞úÏ†ï Î≤ïÎ†π</div>
                </div>
                <div class="law-list" style="max-height: 60vh; overflow-y: auto;">
                    ${lawListHTML}
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // Ï†ÅÏö©Î≤ïÍ∑ú Ïπ¥ÌÖåÍ≥†Î¶¨ Î≥¥Í∏∞
        function showRegistryCategory(category) {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            // Îç∞Ïù¥ÌÑ∞Í∞Ä Î°úÎìúÎêòÏßÄ ÏïäÏïòÏúºÎ©¥ ÏïåÎ¶º
            if (baseLawsData.length === 0) {
                body.innerHTML = '<div class="loading"><div class="spinner"></div><p>Îç∞Ïù¥ÌÑ∞Î•º Î°úÎìúÌïòÍ≥† ÏûàÏäµÎãàÎã§...</p></div>';
                modal.classList.add('show');
                loadBaseLaws().then(() => {
                    showRegistryCategory(category);
                });
                return;
            }
            
            // Ìï¥Îãπ Ïπ¥ÌÖåÍ≥†Î¶¨ Í∏∞Î≥∏ Î≤ïÍ∑ú ÌïÑÌÑ∞ÎßÅ
            const categoryLaws = baseLawsData.filter(law => 
                law.categories && law.categories.includes(category)
            ).sort((a, b) => {
                // Î≤ïÎ†πÎ™Ö Í∞ÄÎÇòÎã§Ïàú Ï†ïÎ†¨
                return a.title.localeCompare(b.title, 'ko-KR');
            });
            
            title.innerHTML = `üìö ${category} Í∏∞Î≥∏ Ï†ÅÏö©Î≤ïÍ∑ú`;
            
            let lawListHTML = '';
            if (categoryLaws.length > 0) {
                lawListHTML = categoryLaws.map((law, index) => {
                    return `
                        <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                            <div class="law-header">
                                <div class="law-title">${index + 1}. ${law.title}</div>
                                <span class="law-link-icon">üîó</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-type">${law.lawType || 'Î≤ïÎ•†'}</span>
                                <span class="law-badge badge-category">${category}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                lawListHTML = '<div class="empty-state"><div class="empty-icon">üì≠</div><div class="empty-text">Ìï¥Îãπ Ïπ¥ÌÖåÍ≥†Î¶¨ Î≤ïÍ∑úÍ∞Ä ÏóÜÏäµÎãàÎã§</div></div>';
            }
            
            body.innerHTML = `
                <div class="stat-card" style="margin-bottom: 1rem;">
                    <div class="stat-title">Ï¥ù ${categoryLaws.length}Í∞ú Í∏∞Î≥∏ Î≤ïÍ∑ú</div>
                    <div class="stat-subtitle">ÎãπÏÇ¨ ${category} ÏßÅÎ¨¥ Ï†ÅÏö© Î≤ïÍ∑ú</div>
                </div>
                <div class="law-list" style="max-height: 60vh; overflow-y: auto;">
                    ${lawListHTML}
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // Î≤ïÍ∑ú Î¶¨Ïä§Ìä∏ HTML ÏÉùÏÑ±
        function getLawListHTML(job) {
            const sampleLaws = {
                'ÌôòÍ≤Ω': [
                    { title: 'ÎåÄÍ∏∞ÌôòÍ≤ΩÎ≥¥Ï†ÑÎ≤ï', type: 'Î≤ïÎ•†', date: '2025.01.01' },
                    { title: 'ÌèêÍ∏∞Î¨ºÍ¥ÄÎ¶¨Î≤ï ÏãúÌñâÍ∑úÏπô', type: 'ÏãúÌñâÍ∑úÏπô', date: '2025.02.01' },
                    { title: 'Î¨ºÌôòÍ≤ΩÎ≥¥Ï†ÑÎ≤ï', type: 'Î≤ïÎ•†', date: '2025.03.20' }
                ],
                'ÏïàÏ†Ñ': [
                    { title: 'ÏÇ∞ÏóÖÏïàÏ†ÑÎ≥¥Í±¥Î≤ï', type: 'Î≤ïÎ•†', date: '2025.01.01' },
                    { title: 'Ï§ëÎåÄÏû¨Ìï¥ Ï≤òÎ≤å Îì±Ïóê Í¥ÄÌïú Î≤ïÎ•†', type: 'Î≤ïÎ•†', date: '2025.01.27' },
                    { title: 'ÌôîÏû¨Ïùò ÏòàÎ∞© Î∞è ÏïàÏ†ÑÍ¥ÄÎ¶¨Ïóê Í¥ÄÌïú Î≤ïÎ•†', type: 'Î≤ïÎ•†', date: '2025.04.21' }
                ]
            };
            
            const laws = sampleLaws[job] || sampleLaws['ÌôòÍ≤Ω'];
            
            return laws.map(law => `
                <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                    <div class="law-header">
                        <div class="law-title">${law.title}</div>
                        <span class="law-link-icon">üîó</span>
                    </div>
                    <div class="law-meta">
                        <span class="law-badge badge-type">${law.type}</span>
                        <span class="law-badge badge-status-upcoming">ÏãúÌñâÏòàÏ†ï</span>
                        <span class="law-date">${law.date}</span>
                    </div>
                </div>
            `).join('');
        }
        
        // Í∏∞Î≥∏ Î≤ïÍ∑ú Î¶¨Ïä§Ìä∏ HTML ÏÉùÏÑ±
        function getBaseLawListHTML(category) {
            const sampleLaws = {
                'ÌôòÍ≤Ω': [
                    'ÎåÄÍ∏∞ÌôòÍ≤ΩÎ≥¥Ï†ÑÎ≤ï',
                    'ÎåÄÍ∏∞ÌôòÍ≤ΩÎ≥¥Ï†ÑÎ≤ï ÏãúÌñâÎ†π',
                    'ÎåÄÍ∏∞ÌôòÍ≤ΩÎ≥¥Ï†ÑÎ≤ï ÏãúÌñâÍ∑úÏπô',
                    'ÌèêÍ∏∞Î¨ºÍ¥ÄÎ¶¨Î≤ï',
                    'Î¨ºÌôòÍ≤ΩÎ≥¥Ï†ÑÎ≤ï'
                ],
                'ÏïàÏ†Ñ': [
                    'ÏÇ∞ÏóÖÏïàÏ†ÑÎ≥¥Í±¥Î≤ï',
                    'ÏÇ∞ÏóÖÏïàÏ†ÑÎ≥¥Í±¥Î≤ï ÏãúÌñâÎ†π',
                    'ÏÇ∞ÏóÖÏïàÏ†ÑÎ≥¥Í±¥Î≤ï ÏãúÌñâÍ∑úÏπô',
                    'Ï§ëÎåÄÏû¨Ìï¥ Ï≤òÎ≤å Îì±Ïóê Í¥ÄÌïú Î≤ïÎ•†',
                    'ÏÜåÎ∞©ÏãúÏÑ§ ÏÑ§Ïπò Î∞è Í¥ÄÎ¶¨Ïóê Í¥ÄÌïú Î≤ïÎ•†'
                ]
            };
            
            const laws = sampleLaws[category] || sampleLaws['ÌôòÍ≤Ω'];
            
            return laws.map(law => {
                const type = law.includes('ÏãúÌñâÍ∑úÏπô') ? 'ÏãúÌñâÍ∑úÏπô' : 
                            law.includes('ÏãúÌñâÎ†π') ? 'ÏãúÌñâÎ†π' : 'Î≤ïÎ•†';
                
                return `
                    <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law)}', '_blank')">
                        <div class="law-header">
                            <div class="law-title">${law}</div>
                            <span class="law-link-icon">üîó</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">${type}</span>
                            <span class="law-badge badge-category">${category}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // ÏóëÏÖÄ Îã§Ïö¥Î°úÎìú
        function downloadExcel(quarter, event) {
            event.stopPropagation();
            alert(`${quarter} Î≤ïÎ†π ÏóëÏÖÄ Îã§Ïö¥Î°úÎìú Í∏∞Îä•ÏùÄ PC Î≤ÑÏ†ÑÏóêÏÑú Ïù¥Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.`);
        }
        
        // Í≤ÄÏÉâ Î™®Îã¨
        function openSearchModal() {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            title.innerHTML = 'üîç Î≤ïÍ∑ú Í≤ÄÏÉâ';
            body.innerHTML = `
                <div style="padding: 1rem 0;">
                    <input type="text" class="search-input" placeholder="Î≤ïÍ∑úÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." onkeyup="performSearch(this.value)" style="width: 100%;">
                </div>
                <div id="search-results" class="law-list">
                    <div class="empty-state">
                        <div class="empty-icon">üîç</div>
                        <div class="empty-text">Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî</div>
                    </div>
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // Îã§Ïö¥Î°úÎìú Î™®Îã¨
        function openDownloadModal() {
            const modal = document.getElementById('detail-modal');
            const title = document.getElementById('modal-title');
            const body = document.getElementById('modal-body');
            
            title.innerHTML = 'üì• Îç∞Ïù¥ÌÑ∞ Îã§Ïö¥Î°úÎìú';
            body.innerHTML = `
                <div class="law-list">
                    <div class="law-item" onclick="alert('PC Î≤ÑÏ†ÑÏóêÏÑú Îã§Ïö¥Î°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§')">
                        <div class="law-header">
                            <div class="law-title">2025ÎÖÑ Ï†ÑÏ≤¥ Î≤ïÎ†π (2,809Í∞ú)</div>
                            <span class="law-link-icon">üìÑ</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">Excel</span>
                            <span>2025_Laws_Complete.xlsx</span>
                        </div>
                    </div>
                    <div class="law-item" onclick="alert('PC Î≤ÑÏ†ÑÏóêÏÑú Îã§Ïö¥Î°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§')">
                        <div class="law-header">
                            <div class="law-title">Îß§Ïπ≠ Í≤∞Í≥º (259Í∞ú)</div>
                            <span class="law-link-icon">üìÑ</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">Excel</span>
                            <span>Îß§Ïπ≠Í≤∞Í≥º_259.xlsx</span>
                        </div>
                    </div>
                    <div class="law-item" onclick="alert('PC Î≤ÑÏ†ÑÏóêÏÑú Îã§Ïö¥Î°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§')">
                        <div class="law-header">
                            <div class="law-title">Í∏∞Î≥∏ Ï†ÅÏö©Î≤ïÍ∑ú (207Í∞ú)</div>
                            <span class="law-link-icon">üìÑ</span>
                        </div>
                        <div class="law-meta">
                            <span class="law-badge badge-type">JSON</span>
                            <span>base_laws_207.json</span>
                        </div>
                    </div>
                </div>
            `;
            
            modal.classList.add('show');
        }
        
        // Í≤ÄÏÉâ ÏàòÌñâ
        function performSearch(query) {
            const resultsDiv = document.getElementById('search-results');
            
            if (!query || query.length < 2) {
                resultsDiv.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üîç</div>
                        <div class="empty-text">2Í∏ÄÏûê Ïù¥ÏÉÅ ÏûÖÎ†•ÌïòÏÑ∏Ïöî</div>
                    </div>
                `;
                return;
            }
            
            // Ï†ÑÏ≤¥ Î≤ïÍ∑úÏóêÏÑú Í≤ÄÏÉâ (Îß§Ïπ≠ Î≤ïÍ∑ú + Í∏∞Î≥∏ Î≤ïÍ∑ú)
            const searchResults = [];
            
            // Îß§Ïπ≠ Î≤ïÍ∑úÏóêÏÑú Í≤ÄÏÉâ
            lawsData.forEach(law => {
                if (law.title.toLowerCase().includes(query.toLowerCase())) {
                    searchResults.push({...law, source: 'matched'});
                }
            });
            
            // Í∏∞Î≥∏ Î≤ïÍ∑úÏóêÏÑú Í≤ÄÏÉâ
            baseLawsData.forEach(law => {
                if (law.title.toLowerCase().includes(query.toLowerCase())) {
                    searchResults.push({...law, source: 'base'});
                }
            });
            
            if (searchResults.length > 0) {
                resultsDiv.innerHTML = searchResults.slice(0, 20).map(law => {
                    const date = law.effectiveDate ? new Date(law.effectiveDate).toLocaleDateString('ko-KR', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit'
                    }).replace(/\. /g, '.').replace(/\.$/, '') : '';
                    
                    return `
                        <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                            <div class="law-header">
                                <div class="law-title">${law.title}</div>
                                <span class="law-link-icon">üîó</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-category">${law.categories?.[0] || 'Í∏∞ÌÉÄ'}</span>
                                ${date ? `<span class="law-date">${date}</span>` : ''}
                                <span class="law-badge badge-type">${law.source === 'base' ? 'Í∏∞Î≥∏Î≤ïÍ∑ú' : 'Îß§Ïπ≠Î≤ïÍ∑ú'}</span>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (searchResults.length > 20) {
                    resultsDiv.innerHTML += `<p style="text-align: center; padding: 1rem; color: var(--text-muted);">Ïô∏ ${searchResults.length - 20}Í∞ú Îçî...</p>`;
                }
            } else {
                resultsDiv.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üòî</div>
                        <div class="empty-text">"${query}"Ïóê ÎåÄÌïú Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§</div>
                    </div>
                `;
            }
        }
        
        // Î™®Îã¨ Îã´Í∏∞
        function closeModal() {
            document.getElementById('detail-modal').classList.remove('show');
        }
        
        // Î≤ïÍ∑ú ÏÉÅÏÑ∏ Î™®Îã¨ Îã´Í∏∞
        function closeLawModal() {
            document.getElementById('law-detail-modal').classList.remove('show');
        }
        
        // Îç∞Ïù¥ÌÑ∞ ÏÜçÏÑ±ÏóêÏÑú Î≤ïÍ∑ú Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏ÏôÄÏÑú ÏÉÅÏÑ∏ Î≥¥Í∏∞
        function showLawDetailFromData(element) {
            try {
                const lawData = element.getAttribute('data-law').replace(/&quot;/g, '"');
                const law = JSON.parse(lawData);
                showLawDetailWithData(law);
            } catch (error) {
                console.error('Error parsing law data:', error);
            }
        }
        
        // Î≤ïÍ∑ú ÏÉÅÏÑ∏ Î≥¥Í∏∞ (PCÎ≤ÑÏ†ÑÍ≥º ÎèôÏùºÌïú AI ÏöîÏïΩ)
        function showLawDetail(lawId) {
            console.log('showLawDetail called with:', lawId);
            const law = lawsData.find(l => l.id === lawId || l.title === lawId);
            if (!law) {
                console.error('Law not found:', lawId);
                return;
            }
            console.log('Found law:', law);
            showLawDetailWithData(law);
        }
        
        // Ïã§Ï†ú Î≤ïÍ∑ú Îç∞Ïù¥ÌÑ∞Î°ú ÏÉÅÏÑ∏ ÌåùÏóÖ ÌëúÏãú
        function showLawDetailWithData(law) {
            const modal = document.getElementById('law-detail-modal');
            const title = document.getElementById('law-modal-title');
            const body = document.getElementById('law-modal-body');
            
            title.innerHTML = law.title;
            
            const summaryHtml = generateAISummary(law);
            body.innerHTML = summaryHtml;
            
            modal.classList.add('show');
        }
        
        // AI ÏöîÏïΩ ÏÉùÏÑ± Ìï®Ïàò
        function generateAISummary(item) {
            const amendmentReason = generateAmendmentReason(item);
            const amendmentContent = generateAmendmentContent(item);
            
            return `
                <div class="summary-section">
                    <h4>üìã Í∞úÏ†ï Í∞úÏöî</h4>
                    <p><strong>Î≤ïÎ†πÎ™Ö:</strong> ${item.title}</p>
                    <p><strong>ÏãúÌñâÏùº:</strong> ${item.effectiveDate || 'ÎØ∏Ï†ï'}</p>
                    <p><strong>Ï£ºÎ¨¥Î∂ÄÏ≤ò:</strong> ${getMinistryName(item.title, item.categories)}</p>
                    <p><strong>Í¥ÄÎ†®ÏßÅÎ¨¥:</strong> ${(item.categories || ['Í∏∞ÌÉÄ']).join(', ')}</p>
                </div>
                
                <div class="summary-section">
                    <h4>üìù Í∞úÏ†ï Ïù¥Ïú†</h4>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                        ${amendmentReason}
                    </div>
                </div>
                
                <div class="summary-section">
                    <h4>üìÑ Ï£ºÏöî Í∞úÏ†ï ÎÇ¥Ïö©</h4>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                        ${amendmentContent}
                    </div>
                </div>
                
                <div class="summary-section">
                    <h4>üéØ ÌïµÏã¨ Ìè¨Ïù∏Ìä∏</h4>
                    <p>‚Ä¢ <strong>ÏóÖÎ¨¥ ÏòÅÌñ•ÎèÑ:</strong> ${(item.categories || ['Í∏∞ÌÉÄ']).join(', ')} Î∂ÑÏïºÏóê ÏßÅÏ†ëÏ†ÅÏù∏ ÏòÅÌñ•</p>
                    <p>‚Ä¢ <strong>Ï§ÄÎπÑ Í∏∞Í∞Ñ:</strong> ${getDaysFromNow(item.effectiveDate) > 0 ? `ÏãúÌñâÍπåÏßÄ ${getDaysFromNow(item.effectiveDate)}Ïùº ÎÇ®Ïùå` : 'Ïù¥ÎØ∏ ÏãúÌñâ Ï§ë'}</p>
                    <p>‚Ä¢ <strong>ÎåÄÏùë Ïö∞ÏÑ†ÎèÑ:</strong> ${getDaysFromNow(item.effectiveDate) <= 7 ? 'üö® Í∏¥Í∏â' : getDaysFromNow(item.effectiveDate) <= 30 ? '‚ö†Ô∏è Ï£ºÏùò' : 'üìÖ ÏòàÏ†ï'}</p>
                </div>
                
                <div class="summary-section">
                    <button onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(item.title)}', '_blank')" 
                            style="width: 100%; padding: 1rem; background: var(--primary-gradient); color: white; border: none; border-radius: 12px; font-weight: 600; font-size: 1rem;">
                        üìú Î≤ïÎ†π ÏõêÎ¨∏ Î≥¥Í∏∞
                    </button>
                </div>
            `;
        }
        
        // Í∞úÏ†ï Ïù¥Ïú† ÏÉùÏÑ±
        function generateAmendmentReason(item) {
            const category = item.categories?.[0] || 'Í∏∞ÌÉÄ';
            const reasons = {
                'ÌôòÍ≤Ω': 'ÌôòÍ≤ΩÎ≥¥Ìò∏ Ï†ïÏ±Ö Í∞ïÌôî Î∞è ÏßÄÏÜçÍ∞ÄÎä•Ìïú Î∞úÏ†ÑÏùÑ ÏúÑÌï¥ Í¥ÄÎ†® Í∑úÏ†úÎ•º Í∞úÏÑ†ÌïòÍ≥†, Í∏∞ÏóÖÏùò ÌôòÍ≤Ω Ï±ÖÏûÑÏùÑ Í∞ïÌôîÌïòÎäî Î∞©Ìñ•ÏúºÎ°ú Í∞úÏ†ïÎêòÏóàÏäµÎãàÎã§.',
                'ÏïàÏ†Ñ': 'ÏÇ∞ÏóÖ ÏïàÏ†ÑÏÇ¨Í≥† ÏòàÎ∞© Í∞ïÌôî Î∞è Í∑ºÎ°úÏûê Î≥¥Ìò∏Î•º ÏúÑÌï¥ ÏïàÏ†ÑÍ¥ÄÎ¶¨ Ï≤¥Í≥ÑÎ•º Í∞úÏÑ†ÌïòÍ≥†, ÏÇ¨ÏóÖÏ£ºÏùò ÏïàÏ†Ñ Ï±ÖÏûÑÏùÑ Í∞ïÌôîÌïòÎäî ÎÇ¥Ïö©ÏûÖÎãàÎã§.',
                'Ïù∏ÏÇ¨ÎÖ∏Î¨¥': 'Í∑ºÎ°úÌôòÍ≤Ω Í∞úÏÑ† Î∞è ÎÖ∏ÎèôÏûê Í∂åÏùµ Î≥¥Ìò∏Î•º ÏúÑÌï¥ Í∑ºÎ°úÏ°∞Í±¥ÏùÑ Í∞úÏÑ†ÌïòÍ≥†, Ïùº¬∑ÏÉùÌôú Í∑†ÌòïÏùÑ ÏßÄÏõêÌïòÎäî Î∞©Ìñ•ÏúºÎ°ú Í∞úÏ†ïÎêòÏóàÏäµÎãàÎã§.',
                'Ïû¨Î¨¥ÌöåÍ≥Ñ': 'ÌöåÍ≥Ñ Ìà¨Î™ÖÏÑ± Í∞ïÌôî Î∞è Ïû¨Î¨¥ Í±¥Ï†ÑÏÑ± ÌôïÎ≥¥Î•º ÏúÑÌï¥ Í¥ÄÎ†® Í∏∞Ï§ÄÏùÑ Ï†ïÎπÑÌïòÍ≥†, Í≥µÏãú ÏùòÎ¨¥Î•º Í∞ïÌôîÌïòÎäî ÎÇ¥Ïö©ÏûÖÎãàÎã§.',
                'Ï†ïÎ≥¥Î≥¥Ìò∏': 'Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏ Í∞ïÌôî Î∞è Ï†ïÎ≥¥Î≥¥Ïïà Ï≤¥Í≥Ñ Í∞úÏÑ†ÏùÑ ÏúÑÌï¥ Í¥ÄÎ¶¨ Í∏∞Ï§ÄÏùÑ Í∞ïÌôîÌïòÍ≥†, Ïπ®Ìï¥ ÎåÄÏùë Ï≤¥Í≥ÑÎ•º Ï†ïÎπÑÌïòÎäî Î∞©Ìñ•ÏûÖÎãàÎã§.',
                'Í≥µÏ†ïÍ±∞Îûò': 'Í≥µÏ†ïÌïú ÏãúÏû• ÏßàÏÑú ÌôïÎ¶Ω Î∞è Î∂àÍ≥µÏ†ï Í±∞Îûò ÌñâÏúÑ Í∑ºÏ†àÏùÑ ÏúÑÌï¥ Í∑úÏ†úÎ•º Í∞ïÌôîÌïòÍ≥†, Ï≤òÎ≤å Í∏∞Ï§ÄÏùÑ ÏÉÅÌñ• Ï°∞Ï†ïÌïòÏòÄÏäµÎãàÎã§.',
                'ÏßÄÎ∞∞Íµ¨Ï°∞': 'Í∏∞ÏóÖ ÏßÄÎ∞∞Íµ¨Ï°∞ Ìà¨Î™ÖÏÑ± Í∞ïÌôî Î∞è Ï£ºÏ£º Í∂åÏùµ Î≥¥Ìò∏Î•º ÏúÑÌï¥ Ïù¥ÏÇ¨Ìöå Ïö¥ÏòÅ Í∏∞Ï§ÄÏùÑ Í∞úÏÑ†ÌïòÍ≥†, Í≥µÏãú ÏùòÎ¨¥Î•º ÌôïÎåÄÌïòÏòÄÏäµÎãàÎã§.',
                'ÏßÄÏãùÏû¨ÏÇ∞Í∂å': 'ÏßÄÏãùÏû¨ÏÇ∞ Î≥¥Ìò∏ Í∞ïÌôî Î∞è Í∏∞Ïà† ÌòÅÏã† Ï¥âÏßÑÏùÑ ÏúÑÌï¥ ÌäπÌóà Ï†úÎèÑÎ•º Í∞úÏÑ†ÌïòÍ≥†, Ïπ®Ìï¥ Íµ¨Ï†ú ÏàòÎã®ÏùÑ Í∞ïÌôîÌïòÏòÄÏäµÎãàÎã§.'
            };
            return reasons[category] || 'Î≤ïÎ†π ÌòÑÏã§Ìôî Î∞è Ï†úÎèÑ Í∞úÏÑ†ÏùÑ ÏúÑÌï¥ Í¥ÄÎ†® Ï°∞Ìï≠ÏùÑ Ï†ïÎπÑÌïòÍ≥†, Ïã§Ìö®ÏÑ±ÏùÑ Í∞ïÌôîÌïòÎäî Î∞©Ìñ•ÏúºÎ°ú Í∞úÏ†ïÎêòÏóàÏäµÎãàÎã§.';
        }
        
        // Í∞úÏ†ï ÎÇ¥Ïö© ÏÉùÏÑ±
        function generateAmendmentContent(item) {
            const category = item.categories?.[0] || 'Í∏∞ÌÉÄ';
            const contents = {
                'ÌôòÍ≤Ω': '‚Ä¢ ÌôòÍ≤ΩÏòÅÌñ•ÌèâÍ∞Ä ÎåÄÏÉÅ ÌôïÎåÄ Î∞è ÌèâÍ∞Ä Í∏∞Ï§Ä Í∞ïÌôî<br>‚Ä¢ Ïò§ÏóºÎ¨ºÏßà Î∞∞Ï∂ú ÌóàÏö© Í∏∞Ï§Ä Í∞ïÌôî<br>‚Ä¢ ÌôòÍ≤Ω Î≤ïÍ∑ú ÏúÑÎ∞ò Ïãú Í≥ºÌÉúÎ£å ÏÉÅÌñ• Ï°∞Ï†ï<br>‚Ä¢ ÏπúÌôòÍ≤Ω Í≤ΩÏòÅ Ïù∏ÏÑºÌã∞Î∏å Ï†úÎèÑ ÎèÑÏûÖ',
                'ÏïàÏ†Ñ': '‚Ä¢ Ï§ëÎåÄÏû¨Ìï¥ Î∞úÏÉù Ïãú Ï≤òÎ≤å Í∏∞Ï§Ä Í∞ïÌôî<br>‚Ä¢ ÏïàÏ†ÑÍ¥ÄÎ¶¨Ïûê ÏÑ†ÏûÑ Í∏∞Ï§Ä ÌôïÎåÄ<br>‚Ä¢ ÏúÑÌóòÏÑ± ÌèâÍ∞Ä Ï£ºÍ∏∞ Îã®Ï∂ï Î∞è Ï†àÏ∞® Í∞ïÌôî<br>‚Ä¢ ÏïàÏ†ÑÍµêÏú° ÏãúÍ∞Ñ ÌôïÎåÄ Î∞è ÎÇ¥Ïö© Í∞ïÌôî',
                'Ïù∏ÏÇ¨ÎÖ∏Î¨¥': '‚Ä¢ ÏµúÏ†ÄÏûÑÍ∏à Ïù∏ÏÉÅ Î∞è Ï†ÅÏö© ÎåÄÏÉÅ ÌôïÎåÄ<br>‚Ä¢ Ïú†Ïó∞Í∑ºÎ¨¥Ï†ú ÎèÑÏûÖ ÏöîÍ±¥ ÏôÑÌôî<br>‚Ä¢ Ïú°ÏïÑÌú¥ÏßÅ Í∏∞Í∞Ñ Ïó∞Ïû• Î∞è Í∏âÏó¨ Ïù∏ÏÉÅ<br>‚Ä¢ ÏßÅÏû• ÎÇ¥ Í¥¥Î°≠Ìûò Î∞©ÏßÄ Ï°∞Ïπò ÏùòÎ¨¥Ìôî',
                'Ïû¨Î¨¥ÌöåÍ≥Ñ': '‚Ä¢ Ïû¨Î¨¥Ï†úÌëú Í≥µÏãú Ï£ºÍ∏∞ Îã®Ï∂ï<br>‚Ä¢ ÎÇ¥Î∂ÄÌöåÍ≥ÑÍ¥ÄÎ¶¨Ï†úÎèÑ Ïö¥ÏòÅ Í∏∞Ï§Ä Í∞ïÌôî<br>‚Ä¢ Ïô∏Î∂ÄÍ∞êÏÇ¨ ÎåÄÏÉÅ Í∏∞ÏóÖ Î≤îÏúÑ ÌôïÎåÄ<br>‚Ä¢ ÌöåÍ≥Ñ Î∂ÄÏ†ï Ï†ÅÎ∞ú Ïãú Ï≤òÎ≤å Í∞ïÌôî',
                'Ï†ïÎ≥¥Î≥¥Ìò∏': '‚Ä¢ Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë Ïãú ÎèôÏùò Ï†àÏ∞® Í∞ïÌôî<br>‚Ä¢ Ï†ïÎ≥¥Î≥¥Ïïà Í¥ÄÎ¶¨Ï≤¥Í≥Ñ Ïù∏Ï¶ù ÏùòÎ¨¥Ìôî<br>‚Ä¢ Í∞úÏù∏Ï†ïÎ≥¥ Ïú†Ï∂ú Ïãú ÌÜµÏßÄ Í∏∞Ìïú Îã®Ï∂ï<br>‚Ä¢ Ï†ïÎ≥¥Î≥¥Ìò∏ Ï±ÖÏûÑÏûê ÏßÄÏ†ï ÏùòÎ¨¥ ÌôïÎåÄ',
                'Í≥µÏ†ïÍ±∞Îûò': '‚Ä¢ Î∂àÍ≥µÏ†ïÍ±∞Îûò ÌñâÏúÑ Ïú†Ìòï ÌôïÎåÄ<br>‚Ä¢ Í≥ºÏßïÍ∏à Î∂ÄÍ≥º Í∏∞Ï§Ä ÏÉÅÌñ• Ï°∞Ï†ï<br>‚Ä¢ ÌïòÎèÑÍ∏â ÎåÄÍ∏à ÏßÄÍ∏â Í∏∞Ìïú Îã®Ï∂ï<br>‚Ä¢ Í∏∞Ïà†ÏûêÎ£å ÏöîÍµ¨ Í∏àÏßÄ Ï°∞Ìï≠ Ïã†ÏÑ§',
                'ÏßÄÎ∞∞Íµ¨Ï°∞': '‚Ä¢ ÏÇ¨Ïô∏Ïù¥ÏÇ¨ ÎèÖÎ¶ΩÏÑ± ÏöîÍ±¥ Í∞ïÌôî<br>‚Ä¢ Í∞êÏÇ¨ÏúÑÏõêÌöå Ïö¥ÏòÅ ÏùòÎ¨¥Ìôî<br>‚Ä¢ Ï£ºÏ£ºÏ¥ùÌöå Ï†ÑÏûêÌà¨ÌëúÏ†ú ÎèÑÏûÖ<br>‚Ä¢ ESG Í≤ΩÏòÅ Í≥µÏãú ÏùòÎ¨¥Ìôî',
                'ÏßÄÏãùÏû¨ÏÇ∞Í∂å': '‚Ä¢ ÌäπÌóà Ïã¨ÏÇ¨ Í∏∞Í∞Ñ Îã®Ï∂ï<br>‚Ä¢ ÏòÅÏóÖÎπÑÎ∞Ä Î≥¥Ìò∏ Î≤îÏúÑ ÌôïÎåÄ<br>‚Ä¢ Ï†ÄÏûëÍ∂å Ïπ®Ìï¥ ÏÜêÌï¥Î∞∞ÏÉÅÏï° ÏÉÅÌñ•<br>‚Ä¢ Í∏∞Ïà†Ïù¥Ï†Ñ Ï¥âÏßÑ Ï†úÎèÑ ÎèÑÏûÖ'
            };
            return contents[category] || '‚Ä¢ Í¥ÄÎ†® Î≤ïÎ†π Ï°∞Ìï≠ Ï†ïÎπÑ<br>‚Ä¢ ÌñâÏ†ï Ï†àÏ∞® Í∞ÑÏÜåÌôî<br>‚Ä¢ Í∑úÏ†ú Ìï©Î¶¨Ìôî Ï°∞Ïπò<br>‚Ä¢ Ï†úÏû¨ Í∏∞Ï§Ä ÌòÑÏã§Ìôî';
        }
        
        // ÎÇ†Ïßú Í≥ÑÏÇ∞ Ìï®Ïàò
        function getDaysFromNow(dateStr) {
            if (!dateStr) return null;
            const targetDate = new Date(dateStr);
            const today = new Date();
            const diffTime = targetDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays;
        }
        
        // Î∂ÄÏ≤òÎ™Ö Ï∂îÏ∂ú Ìï®Ïàò
        function getMinistryName(title, categories) {
            if (!title) return 'Í¥ÄÍ≥ÑÎ∂ÄÏ≤ò';
            
            const category = (categories && categories[0]) || '';
            
            // Î≤ïÎ†πÎ™Ö Í∏∞Î∞ò Î∂ÄÏ≤ò Îß§Ìïë
            if (title.includes('Í∑ºÎ°úÍ∏∞Ï§ÄÎ≤ï') || title.includes('ÏµúÏ†ÄÏûÑÍ∏àÎ≤ï') || title.includes('ÏÇ∞ÏóÖÏïàÏ†ÑÎ≥¥Í±¥Î≤ï')) {
                return 'Í≥†Ïö©ÎÖ∏ÎèôÎ∂Ä';
            } else if (title.includes('Í∞úÏù∏Ï†ïÎ≥¥Î≥¥Ìò∏Î≤ï') || title.includes('Ï†ïÎ≥¥ÌÜµÏã†')) {
                return 'Í∞úÏù∏Ï†ïÎ≥¥Î≥¥Ìò∏ÏúÑÏõêÌöå';
            } else if (title.includes('Í≥µÏ†ïÍ±∞ÎûòÎ≤ï') || title.includes('ÎèÖÏ†êÍ∑úÏ†ú')) {
                return 'Í≥µÏ†ïÍ±∞ÎûòÏúÑÏõêÌöå';
            } else if (title.includes('ÌôòÍ≤Ω') || title.includes('ÎåÄÍ∏∞') || title.includes('ÌèêÍ∏∞Î¨º')) {
                return 'ÌôòÍ≤ΩÎ∂Ä';
            } else if (title.includes('ÏÉÅÎ≤ï') || title.includes('Ï£ºÏãùÌöåÏÇ¨')) {
                return 'Î≤ïÎ¨¥Î∂Ä';
            } else if (title.includes('Î≤ïÏù∏ÏÑ∏') || title.includes('Î∂ÄÍ∞ÄÍ∞ÄÏπòÏÑ∏')) {
                return 'Í∏∞ÌöçÏû¨Ï†ïÎ∂Ä';
            } else if (title.includes('ÌäπÌóà') || title.includes('ÏÉÅÌëú') || title.includes('Ï†ÄÏûëÍ∂å')) {
                return 'ÌäπÌóàÏ≤≠';
            }
            
            // Ïπ¥ÌÖåÍ≥†Î¶¨ Í∏∞Î∞ò Î∂ÄÏ≤ò Îß§Ìïë
            const ministryMap = {
                'Ïù∏ÏÇ¨ÎÖ∏Î¨¥': 'Í≥†Ïö©ÎÖ∏ÎèôÎ∂Ä',
                'Ï†ïÎ≥¥Î≥¥Ìò∏': 'Í∞úÏù∏Ï†ïÎ≥¥Î≥¥Ìò∏ÏúÑÏõêÌöå',
                'Í≥µÏ†ïÍ±∞Îûò': 'Í≥µÏ†ïÍ±∞ÎûòÏúÑÏõêÌöå',
                'ÏïàÏ†Ñ': 'Í≥†Ïö©ÎÖ∏ÎèôÎ∂Ä',
                'ÌôòÍ≤Ω': 'ÌôòÍ≤ΩÎ∂Ä',
                'ÏßÄÎ∞∞Íµ¨Ï°∞': 'Î≤ïÎ¨¥Î∂Ä',
                'Ïû¨Î¨¥ÌöåÍ≥Ñ': 'Í∏∞ÌöçÏû¨Ï†ïÎ∂Ä',
                'ÏßÄÏãùÏû¨ÏÇ∞Í∂å': 'ÌäπÌóàÏ≤≠'
            };
            
            return ministryMap[category] || 'Í¥ÄÍ≥ÑÎ∂ÄÏ≤ò';
        }
        
        // Îß® ÏúÑÎ°ú Ïä§ÌÅ¨Î°§
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Î≤ïÍ∑ú Í≤ÄÏÉâ Ìï®Ïàò (Ï†ÅÏö©Î≤ïÍ∑ú ÌÉ≠ÏóêÏÑúÎßå)
        function searchLaws(query) {
            const resultsSection = document.getElementById('search-results-section');
            const resultsList = document.getElementById('search-results-list');
            const jobSection = document.querySelector('#registry-tab .job-section');
            
            if (!query || query.length < 2) {
                resultsSection.style.display = 'none';
                jobSection.style.display = 'block';
                return;
            }
            
            // Í∏∞Î≥∏ Î≤ïÍ∑úÍ∞Ä Î°úÎìúÎêòÏßÄ ÏïäÏïòÏúºÎ©¥ Ï¢ÖÎ£å
            if (baseLawsData.length === 0) {
                resultsList.innerHTML = '<div class="empty-state"><div class="empty-icon">‚è≥</div><div class="empty-text">Îç∞Ïù¥ÌÑ∞Î•º Î°úÎìúÌïòÍ≥† ÏûàÏäµÎãàÎã§...</div></div>';
                return;
            }
            
            // Í∏∞Î≥∏ Î≤ïÍ∑úÏóêÏÑúÎßå Í≤ÄÏÉâ
            const searchResults = baseLawsData.filter(law => 
                law.title.toLowerCase().includes(query.toLowerCase())
            );
            
            // Ïπ¥ÌÖåÍ≥†Î¶¨ Î≥¥Í∏∞ Ïà®Í∏∞Í≥† Í≤ÄÏÉâ Í≤∞Í≥º ÌëúÏãú
            jobSection.style.display = 'none';
            resultsSection.style.display = 'block';
            
            if (searchResults.length > 0) {
                const maxResults = 20;
                const displayResults = searchResults.slice(0, maxResults);
                
                resultsList.innerHTML = displayResults.map((law, index) => {
                    return `
                        <div class="law-item" onclick="window.open('https://www.law.go.kr/lsSc.do?query=${encodeURIComponent(law.title)}', '_blank')">
                            <div class="law-header">
                                <div class="law-title">${index + 1}. ${law.title}</div>
                                <span class="law-link-icon">üîó</span>
                            </div>
                            <div class="law-meta">
                                <span class="law-badge badge-type">${law.lawType || 'Î≤ïÎ•†'}</span>
                                <span class="law-badge badge-category">${law.categories?.[0] || 'Í∏∞ÌÉÄ'}</span>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (searchResults.length > maxResults) {
                    resultsList.innerHTML += `<p style="text-align: center; padding: 1rem; color: var(--text-muted);">Ï¥ù ${searchResults.length}Í∞ú Ï§ë ${maxResults}Í∞ú ÌëúÏãú</p>`;
                }
            } else {
                resultsList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üòî</div>
                        <div class="empty-text">"${query}"Ïóê ÎåÄÌïú Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§</div>
                    </div>
                `;
            }
        }
        

        
        // Î™®Îã¨ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
        document.getElementById('detail-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // ÏÑ§Ï†ï Î©îÎâ¥ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('settings-menu');
            const menuBtn = document.querySelector('.menu-btn');
            
            if (!menu.contains(e.target) && e.target !== menuBtn) {
                menu.classList.remove('show');
            }
        });
        
        // Ïä§ÌÅ¨Î°§ Ïãú FAB ÌëúÏãú/Ïà®ÍπÄ
        let lastScrollTop = 0;
        window.addEventListener('scroll', function() {
            const fab = document.querySelector('.fab');
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > 200) {
                fab.style.display = 'block';
            } else {
                fab.style.display = 'none';
            }
            
            lastScrollTop = scrollTop;
        });
    </script>
</body>
</html>