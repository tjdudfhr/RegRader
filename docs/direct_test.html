<!DOCTYPE html>
<html>
<head>
    <title>Direct Click Test</title>
    <script>
        window.addEventListener('load', function() {
            // 5초 후 자동으로 메인 페이지에서 Q1 클릭 테스트
            setTimeout(() => {
                console.log('=== 자동 Q1 클릭 테스트 시작 ===');
                
                // iframe으로 메인 페이지 로드
                const iframe = document.createElement('iframe');
                iframe.src = '/';
                iframe.style.width = '100%';
                iframe.style.height = '600px';
                document.body.appendChild(iframe);
                
                // iframe이 로드되면 Q1 클릭
                iframe.onload = function() {
                    setTimeout(() => {
                        try {
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            
                            // Q1 버튼 찾기
                            const q1Button = iframeDoc.querySelector('.quarterly-tab[onclick*="Q1"]');
                            console.log('Q1 버튼 찾았나?', !!q1Button);
                            
                            if (q1Button) {
                                console.log('Q1 버튼 클릭!');
                                q1Button.click();
                                
                                // 1초 후 결과 확인
                                setTimeout(() => {
                                    const detailSection = iframeDoc.getElementById('quarterly-detail');
                                    console.log('quarterly-detail 요소:', !!detailSection);
                                    if (detailSection) {
                                        console.log('display:', detailSection.style.display);
                                        console.log('classes:', detailSection.className);
                                    }
                                }, 1000);
                            }
                            
                        } catch (e) {
                            console.log('Same-origin 정책 때문에 직접 접근 불가:', e.message);
                        }
                    }, 3000);
                };
                
            }, 1000);
        });
    </script>
</head>
<body>
    <h1>Direct Click Test</h1>
    <p>자동으로 메인 페이지를 로드하고 Q1 버튼을 클릭합니다.</p>
    <div id="result"></div>
</body>
</html>