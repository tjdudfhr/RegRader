<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmailJS 브라우저 콘솔 테스트 가이드</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.8;
            background: #f5f5f5;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .step {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            font-size: 18px;
            margin-right: 15px;
        }
        .step-title {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin: 10px 0;
        }
        .code-box {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            position: relative;
            overflow-x: auto;
        }
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }
        .copy-btn:hover {
            background: #2980b9;
        }
        .highlight {
            background: #f39c12;
            color: #2c3e50;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        .warning {
            background: #fee;
            border-left: 5px solid #e74c3c;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
        }
        .success {
            background: #efe;
            border-left: 5px solid #27ae60;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
        }
        .screenshot {
            border: 2px solid #ddd;
            border-radius: 5px;
            margin: 15px 0;
            max-width: 100%;
        }
        .keyboard-key {
            display: inline-block;
            padding: 3px 8px;
            background: #ecf0f1;
            border: 1px solid #bdc3c7;
            border-radius: 3px;
            font-weight: bold;
            box-shadow: 0 2px 0 #95a5a6;
            margin: 0 2px;
        }
        .arrow {
            color: #3498db;
            font-weight: bold;
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <h1>🚀 EmailJS 브라우저 콘솔 테스트 가이드</h1>
    
    <div class="success">
        <strong>목표:</strong> 브라우저 개발자 도구 콘솔에서 EmailJS를 테스트하여 이메일이 정상적으로 발송되는지 확인합니다.
    </div>

    <div class="step">
        <div class="step-number">1</div>
        <div class="step-title">개발자 도구 열기</div>
        <p>다음 중 하나의 방법을 선택하세요:</p>
        <ul>
            <li><strong>방법 1:</strong> 키보드에서 <span class="keyboard-key">F12</span> 키를 누르세요</li>
            <li><strong>방법 2:</strong> 웹페이지에서 마우스 오른쪽 클릭 <span class="arrow">→</span> <span class="highlight">검사</span> 또는 <span class="highlight">Inspect</span> 클릭</li>
            <li><strong>방법 3:</strong> <span class="keyboard-key">Ctrl</span> + <span class="keyboard-key">Shift</span> + <span class="keyboard-key">I</span> (Windows) 또는 <span class="keyboard-key">Cmd</span> + <span class="keyboard-key">Option</span> + <span class="keyboard-key">I</span> (Mac)</li>
        </ul>
    </div>

    <div class="step">
        <div class="step-number">2</div>
        <div class="step-title">Console(콘솔) 탭 선택</div>
        <p>개발자 도구가 열리면 상단 메뉴에서 <span class="highlight">Console</span> 또는 <span class="highlight">콘솔</span> 탭을 클릭하세요.</p>
        <div class="warning">
            <strong>주의:</strong> Elements, Network, Sources 등 다른 탭이 아닌 <strong>Console</strong> 탭을 선택해야 합니다!
        </div>
    </div>

    <div class="step">
        <div class="step-number">3</div>
        <div class="step-title">EmailJS 라이브러리 로드하기</div>
        <p>먼저 EmailJS 라이브러리를 로드해야 합니다. 아래 코드를 복사하여 콘솔에 붙여넣고 <span class="keyboard-key">Enter</span>를 누르세요:</p>
        
        <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">복사</button>
            <pre>// EmailJS 라이브러리 로드
const script = document.createElement('script');
script.src = 'https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js';
script.onload = () => console.log('✅ EmailJS 라이브러리 로드 완료!');
document.head.appendChild(script);</pre>
        </div>
        
        <div class="success">
            성공하면 "✅ EmailJS 라이브러리 로드 완료!" 메시지가 표시됩니다.
        </div>
    </div>

    <div class="step">
        <div class="step-number">4</div>
        <div class="step-title">EmailJS 초기화 및 테스트 이메일 발송</div>
        <p>아래 코드에서 <span class="highlight">YOUR_PUBLIC_KEY</span>, <span class="highlight">YOUR_SERVICE_ID</span>, <span class="highlight">YOUR_TEMPLATE_ID</span>를 실제 값으로 변경한 후 콘솔에 붙여넣고 <span class="keyboard-key">Enter</span>를 누르세요:</p>
        
        <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">복사</button>
            <pre>// EmailJS 초기화 (Public Key 입력)
emailjs.init("YOUR_PUBLIC_KEY");  // 여기에 실제 Public Key 입력

// 테스트 이메일 데이터
const testData = {
    to_email: "test@example.com",  // 받는 사람 이메일 주소
    subject: "법령 모니터링 테스트 이메일",
    message: "이것은 테스트 메시지입니다.",
    total_count: 259,
    quarterly_summary: "1분기: 119건, 2분기: 61건, 3분기: 64건, 4분기: 15건",
    job_summary: "안전보건: 50건, 환경: 45건, 소방: 30건",
    recent_laws: "최근 개정 법령 목록..."
};

// 이메일 발송
emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", testData)
    .then(response => {
        console.log('✅ 이메일 발송 성공!', response);
        alert('이메일이 성공적으로 발송되었습니다!');
    })
    .catch(error => {
        console.error('❌ 이메일 발송 실패:', error);
        alert('이메일 발송 실패: ' + error.text);
    });</pre>
        </div>

        <div class="warning">
            <strong>중요!</strong> 반드시 아래 3개 값을 실제 EmailJS 계정의 값으로 변경하세요:
            <ul>
                <li><strong>YOUR_PUBLIC_KEY</strong> → EmailJS 대시보드의 Public Key</li>
                <li><strong>YOUR_SERVICE_ID</strong> → 이메일 서비스 ID (예: service_xxxxx)</li>
                <li><strong>YOUR_TEMPLATE_ID</strong> → 템플릿 ID (예: template_xxxxx)</li>
            </ul>
        </div>
    </div>

    <div class="step">
        <div class="step-number">5</div>
        <div class="step-title">간단한 테스트 (한 줄로)</div>
        <p>모든 값을 한 번에 테스트하려면 아래 코드를 사용하세요 (값 변경 필수):</p>
        
        <div class="code-box">
            <button class="copy-btn" onclick="copyCode(this)">복사</button>
            <pre>// 한 줄로 간단히 테스트 (값을 실제 값으로 변경하세요!)
emailjs.init("YOUR_PUBLIC_KEY"); emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", {to_email: "test@example.com", subject: "테스트", message: "테스트 메시지"}).then(r => alert("성공!")).catch(e => alert("실패: " + e.text));</pre>
        </div>
    </div>

    <div class="step">
        <div class="step-number">🎯</div>
        <div class="step-title">문제 해결 팁</div>
        
        <div class="warning">
            <strong>자주 발생하는 오류와 해결 방법:</strong>
        </div>
        
        <ul>
            <li><strong>"emailjs is not defined" 오류</strong>
                <br>→ Step 3의 라이브러리 로드 코드를 먼저 실행하세요</li>
            
            <li><strong>"The public key is required" 오류</strong>
                <br>→ YOUR_PUBLIC_KEY를 실제 Public Key로 변경하세요</li>
            
            <li><strong>"The service ID is invalid" 오류</strong>
                <br>→ YOUR_SERVICE_ID를 실제 Service ID로 변경하세요</li>
            
            <li><strong>"The template ID is invalid" 오류</strong>
                <br>→ YOUR_TEMPLATE_ID를 실제 Template ID로 변경하세요</li>
            
            <li><strong>이메일 내용이 비어있음</strong>
                <br>→ EmailJS 템플릿의 변수명과 코드의 변수명이 일치하는지 확인하세요
                <br>→ 템플릿에서 {{to_email}}, {{subject}}, {{message}} 등을 사용하고 있는지 확인하세요</li>
        </ul>
    </div>

    <div class="step" style="background: #e8f8f5;">
        <div class="step-number">✅</div>
        <div class="step-title">성공 확인</div>
        <p>이메일이 성공적으로 발송되면:</p>
        <ol>
            <li>콘솔에 <span class="highlight">✅ 이메일 발송 성공!</span> 메시지가 표시됩니다</li>
            <li>알림창으로 "이메일이 성공적으로 발송되었습니다!" 메시지가 나타납니다</li>
            <li>실제 이메일함에서 테스트 이메일을 확인할 수 있습니다</li>
        </ol>
    </div>

    <div class="step" style="background: #fef5e7;">
        <div class="step-number">💡</div>
        <div class="step-title">실제 값 예시</div>
        <p>실제로 사용할 때는 이런 형태가 됩니다:</p>
        
        <div class="code-box">
            <pre>// 예시 (실제 값으로 대체된 모습)
emailjs.init("BH4k2m_XyZ9Lp3Q8R");  // 실제 Public Key
emailjs.send("service_gmail", "template_law_monitor", {
    to_email: "admin@company.com",
    subject: "법령 모니터링 일일 리포트",
    message: "오늘의 법령 업데이트 내용입니다.",
    total_count: 259
}).then(r => console.log("성공!", r));</pre>
        </div>
    </div>

    <script>
        function copyCode(button) {
            const codeBox = button.parentElement;
            const code = codeBox.querySelector('pre').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                const originalText = button.textContent;
                button.textContent = '복사됨!';
                button.style.background = '#27ae60';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#3498db';
                }, 2000);
            });
        }
    </script>
</body>
</html>